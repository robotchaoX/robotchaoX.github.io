
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>valgrind内存检测 · robotchaoX</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-lightbox/css/lightbox.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../linux-system/" />
    
    
    <link rel="prev" href="json.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://github.com/robotchaoX" target="_blank" class="custom-link">GitHub</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../c++/">
            
                <a href="../c++/">
            
                    
                    C++
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../c++/c++-basic.html">
            
                <a href="../c++/c++-basic.html">
            
                    
                    C++基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../c++/c++11.html">
            
                <a href="../c++/c++11.html">
            
                    
                    C++11
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../c++/stl.html">
            
                <a href="../c++/stl.html">
            
                    
                    STL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../linux-basic/">
            
                <a href="../linux-basic/">
            
                    
                    linux基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../linux-basic/linux-command.html">
            
                <a href="../linux-basic/linux-command.html">
            
                    
                    Linux基本命令
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    linux工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="gcc.html">
            
                <a href="gcc.html">
            
                    
                    GCC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="gdb.html">
            
                <a href="gdb.html">
            
                    
                    GDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="make.html">
            
                <a href="make.html">
            
                    
                    make
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="json.html">
            
                <a href="json.html">
            
                    
                    json
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.5" data-path="valgrind内存检测.html">
            
                <a href="valgrind内存检测.html">
            
                    
                    valgrind内存检测
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../linux-system/">
            
                <a href="../linux-system/">
            
                    
                    linux系统编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../linux-system/01-process.html">
            
                <a href="../linux-system/01-process.html">
            
                    
                    进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../linux-system/02-Inter-Process-Communication.html">
            
                <a href="../linux-system/02-Inter-Process-Communication.html">
            
                    
                    进程间通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../linux-system/04-signal.html">
            
                <a href="../linux-system/04-signal.html">
            
                    
                    信号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../linux-system/05-daemon.html">
            
                <a href="../linux-system/05-daemon.html">
            
                    
                    守护进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../linux-system/06-thread.html">
            
                <a href="../linux-system/06-thread.html">
            
                    
                    线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../linux-system/07-thread-synchronization.html">
            
                <a href="../linux-system/07-thread-synchronization.html">
            
                    
                    线程同步
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../linux-internet/">
            
                <a href="../linux-internet/">
            
                    
                    linux网络编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../linux-internet/wang-luo-ji-chu.html">
            
                <a href="../linux-internet/wang-luo-ji-chu.html">
            
                    
                    网络基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../linux-internet/tcp-udp.html">
            
                <a href="../linux-internet/tcp-udp.html">
            
                    
                    TCP/UDP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../linux-internet/duo-jin-cheng-bing-fa.html">
            
                <a href="../linux-internet/duo-jin-cheng-bing-fa.html">
            
                    
                    多进程线程并发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../linux-internet/duo-lu-IO-zhuan-jie.html">
            
                <a href="../linux-internet/duo-lu-IO-zhuan-jie.html">
            
                    
                    多路IO转接
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../web-server/">
            
                <a href="../web-server/">
            
                    
                    Web服务器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../web-server/untitled.html">
            
                <a href="../web-server/untitled.html">
            
                    
                    Untitled
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../html/">
            
                <a href="../html/">
            
                    
                    HTML
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../html/html.html">
            
                <a href="../html/html.html">
            
                    
                    HTML基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../http/">
            
                <a href="../http/">
            
                    
                    HTTP协议
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../http/http.html">
            
                <a href="../http/http.html">
            
                    
                    HTTP基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../http/https.md">
            
                <span>
            
                    
                    https原理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../design-pattern/">
            
                <a href="../design-pattern/">
            
                    
                    设计模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../design-pattern/uml.html">
            
                <a href="../design-pattern/uml.html">
            
                    
                    UML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../design-pattern/design-pattern.html">
            
                <a href="../design-pattern/design-pattern.html">
            
                    
                    设计模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../shell/">
            
                <a href="../shell/">
            
                    
                    shell编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../shell/shell.html">
            
                <a href="../shell/shell.html">
            
                    
                    shell基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../python/">
            
                <a href="../python/">
            
                    
                    Python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../python/python.html">
            
                <a href="../python/python.html">
            
                    
                    Python基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../vim/">
            
                <a href="../vim/">
            
                    
                    vim编辑器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../vim/vim.html">
            
                <a href="../vim/vim.html">
            
                    
                    vim编辑器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../doxygen/">
            
                <a href="../doxygen/">
            
                    
                    doxygen
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../doxygen/doxygen源码文档.md">
            
                <span>
            
                    
                    doxygen源码文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../markdown/">
            
                <a href="../markdown/">
            
                    
                    MarkDown
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../markdown/markdown.html">
            
                <a href="../markdown/markdown.html">
            
                    
                    MarkDown语法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../gitbook/">
            
                <a href="../gitbook/">
            
                    
                    GitBook
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../gitbook/gitbook.html">
            
                <a href="../gitbook/gitbook.html">
            
                    
                    GitBook笔记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../git/">
            
                <a href="../git/">
            
                    
                    Git
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="../git/git.html">
            
                <a href="../git/git.html">
            
                    
                    Git&GitHub
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../jetson/">
            
                <a href="../jetson/">
            
                    
                    NVIDIA-jetson
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="../jetson/jetson.html">
            
                <a href="../jetson/jetson.html">
            
                    
                    jetson笔记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../opencv/">
            
                <a href="../opencv/">
            
                    
                    OpenCV
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="../opencv/opencv.html">
            
                <a href="../opencv/opencv.html">
            
                    
                    OpenCV笔记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../shu-ju-ku/">
            
                <a href="../shu-ju-ku/">
            
                    
                    数据库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="../shu-ju-ku/mysql.html">
            
                <a href="../shu-ju-ku/mysql.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="../shu-ju-ku/mongodb.html">
            
                <a href="../shu-ju-ku/mongodb.html">
            
                    
                    MongoDB
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="../shu-ju-jie-gou/README.md">
            
                <span>
            
                    
                    数据结构与算法
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >valgrind内存检测</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><ul><li><span class="title-icon "></span><a href="#valgrind"><b></b>Valgrind</a></li><ul><li><span class="title-icon "></span><a href="#valgrind&#x7B80;&#x4ECB;"><b></b>valgrind&#x7B80;&#x4ECB;</a></li><li><span class="title-icon "></span><a href="#valgrind&#x7684;&#x4F7F;&#x7528;"><b></b>valgrind&#x7684;&#x4F7F;&#x7528;</a></li><li><span class="title-icon "></span><a href="#valgrind&#x5E38;&#x89C1;&#x5185;&#x5B58;&#x95EE;&#x9898;&#x6848;&#x4F8B;"><b></b>valgrind&#x5E38;&#x89C1;&#x5185;&#x5B58;&#x95EE;&#x9898;&#x6848;&#x4F8B;</a></li><li><span class="title-icon "></span><a href="#&#x53C2;&#x6570;&#x9009;&#x9879;"><b></b>&#x53C2;&#x6570;&#x9009;&#x9879;</a></li><li><span class="title-icon "></span><a href="#reference"><b></b>reference</a></li></ul></ul></ul></div><h2 id="valgrind"><a name="valgrind" class="anchor-navigation-ex-anchor" href="#valgrind"><i class="fa fa-link" aria-hidden="true"></i></a>Valgrind</h2>
<h3 id="valgrind&#x7B80;&#x4ECB;"><a name="valgrind&#x7B80;&#x4ECB;" class="anchor-navigation-ex-anchor" href="#valgrind&#x7B80;&#x4ECB;"><i class="fa fa-link" aria-hidden="true"></i></a>valgrind&#x7B80;&#x4ECB;</h3>
<p>Valgrind&#x662F;&#x4E00;&#x6B3E;&#x7528;&#x4E8E;&#x5185;&#x5B58;&#x8C03;&#x8BD5;&#x3001;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x68C0;&#x6D4B;&#x4EE5;&#x53CA;&#x6027;&#x80FD;&#x5206;&#x6790;&#x7684;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x3002;</p>
<p>Valgrind&#x662F;&#x7528;&#x4E8E;&#x8C03;&#x8BD5;&#x548C;&#x5206;&#x6790;Linux&#x7A0B;&#x5E8F;&#x7684;GPL&#x7CFB;&#x7EDF;&#x3002;&#x4F7F;&#x7528;Valgrind&#x7684; &#x5DE5;&#x5177;&#x5957;&#x4EF6;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x68C0;&#x6D4B;&#x8BB8;&#x591A;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x548C;&#x7EBF;&#x7A0B;&#x9519;&#x8BEF;&#x3002;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x8BE6;&#x7EC6;&#x7684;&#x6027;&#x80FD;&#x5206;&#x6790;&#xFF0C;&#x4EE5;&#x5E2E;&#x52A9;&#x52A0;&#x5FEB;&#x7A0B;&#x5E8F;&#x901F;&#x5EA6;&#x3002;</p>
<p>Valgrind&#x53EF;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#x7A0B;&#x5E8F;&#x3002;&#x56E0;&#x4E3A;Valgrind&#x76F4;&#x63A5;&#x4E0E;&#x7A0B;&#x5E8F;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x53EF;&#x4EE5;&#x4E0E;&#x4EE5;&#x4EFB;&#x4F55;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#x7A0B;&#x5E8F;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x65E0;&#x8BBA;&#x5B83;&#x4EEC;&#x662F;&#x7F16;&#x8BD1;&#x7684;&#xFF0C;&#x5373;&#x65F6;&#x7F16;&#x8BD1;&#x7684;&#x8FD8;&#x662F;&#x89E3;&#x91CA;&#x7684;&#x3002;Valgrind&#x5DE5;&#x5177;&#x4E3B;&#x8981;&#x9488;&#x5BF9;&#x7528;C&#x548C;C ++&#x7F16;&#x5199;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x56E0;&#x4E3A;&#x7528;&#x8FD9;&#x4E9B;&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#x7A0B;&#x5E8F;&#x5F80;&#x5F80;&#x6709;&#x6700;&#x591A;&#x7684;&#x9519;&#x8BEF;&#xFF01;&#x4F46;&#x662F;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x8C03;&#x8BD5;&#x548C;&#x5206;&#x6790;&#x4EE5;&#x591A;&#x79CD;&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#x7CFB;&#x7EDF;&#x3002;Valgrind&#x5DF2;&#x7528;&#x4E8E;&#x90E8;&#x5206;&#x6216;&#x5168;&#x90E8;&#x7528;C&#xFF0C;C ++&#xFF0C;Java&#xFF0C;Perl&#xFF0C;Python&#xFF0C;&#x6C47;&#x7F16;&#x4EE3;&#x7801;&#xFF0C;Fortran&#xFF0C;Ada&#x7B49;&#x7F16;&#x5199;&#x7684;&#x7A0B;&#x5E8F;&#x4E0A;&#x3002;</p>
<p>Valgrind&#x662F;&#x4E00;&#x5957;Linux&#x4E0B;&#xFF0C;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#xFF08;GPL V2&#xFF09;&#x7684;&#x4EFF;&#x771F;&#x8C03;&#x8BD5;&#x5DE5;&#x5177;&#x7684;&#x96C6;&#x5408;&#x3002;Valgrind&#x7531;&#x5185;&#x6838;&#xFF08;core&#xFF09;&#x4EE5;&#x53CA;&#x57FA;&#x4E8E;&#x5185;&#x6838;&#x7684;&#x5176;&#x4ED6;&#x8C03;&#x8BD5;&#x5DE5;&#x5177;&#x7EC4;&#x6210;&#x3002;&#x5185;&#x6838;&#x7C7B;&#x4F3C;&#x4E8E;&#x4E00;&#x4E2A;&#x6846;&#x67B6;&#xFF08;framework&#xFF09;&#xFF0C;&#x5B83;&#x6A21;&#x62DF;&#x4E86;&#x4E00;&#x4E2A;CPU&#x73AF;&#x5883;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7ED9;&#x5176;&#x4ED6;&#x5DE5;&#x5177;&#xFF1B;&#x800C;&#x5176;&#x4ED6;&#x5DE5;&#x5177;&#x5219;&#x7C7B;&#x4F3C;&#x4E8E;&#x63D2;&#x4EF6; (plug-in)&#xFF0C;&#x5229;&#x7528;&#x5185;&#x6838;&#x63D0;&#x4F9B;&#x7684;&#x670D;&#x52A1;&#x5B8C;&#x6210;&#x5404;&#x79CD;&#x7279;&#x5B9A;&#x7684;&#x5185;&#x5B58;&#x8C03;&#x8BD5;&#x4EFB;&#x52A1;&#x3002;Valgrind&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<p><a href="assets/1783214-cef417fe58980365.jpg" data-lightbox="cd8997e4-8d23-4ead-bba4-dda1dfa12e8c" data-title="img"><img src="assets/1783214-cef417fe58980365.jpg" alt="img"></a></p>
<h4 id="valgrind&#x5DE5;&#x5177;"><a name="valgrind&#x5DE5;&#x5177;" class="anchor-navigation-ex-anchor" href="#valgrind&#x5DE5;&#x5177;"><i class="fa fa-link" aria-hidden="true"></i></a>valgrind&#x5DE5;&#x5177;</h4>
<ol>
<li><p><strong>Memcheck</strong>&#xFF1A;</p>
<p><strong>&#x5185;&#x5B58;&#x9519;&#x8BEF;</strong>&#x68C0;&#x6D4B;&#x5668;&#xFF0C;&#x80FD;&#x591F;&#x53D1;&#x73B0;&#x5F00;&#x53D1;&#x4E2D;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x5185;&#x5B58;&#x9519;&#x8BEF;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x60A8;&#x4F7F;&#x7A0B;&#x5E8F;&#xFF0C;&#x5C24;&#x5176;&#x662F;C&#x548C;C ++&#x7684;&#x7A0B;&#x5E8F;&#x66F4;&#x52A0;&#x6B63;&#x786E;&#x3002;</p>
<p>Memcheck &#x5DE5;&#x5177;&#x4E3B;&#x8981;&#x68C0;&#x67E5;&#x4E0B;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x9519;&#x8BEF;&#xFF1A;</p>
<ul>
<li>&#x4F7F;&#x7528;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x5185;&#x5B58; (Use of uninitialised memory)</li>
<li>&#x8BFB;/&#x5199;&#x5DF2;&#x7ECF;&#x88AB;&#x91CA;&#x653E;&#x7684;&#x5185;&#x5B58; (Reading/writing memory after it has been free&#x2019;d)</li>
<li>&#x8BFB;/&#x5199;&#x5185;&#x5B58;&#x8D8A;&#x754C; (Reading/writing off the end of malloc&#x2019;d blocks)</li>
<li>&#x8BFB;/&#x5199;&#x4E0D;&#x6070;&#x5F53;&#x7684;&#x5185;&#x5B58;&#x6808;&#x7A7A;&#x95F4; (Reading/writing inappropriate areas on the stack)</li>
<li>&#x5185;&#x5B58;&#x6CC4;&#x6F0F; (Memory leaks &#x2013; where pointers to malloc&#x2019;d blocks are lost forever)</li>
<li>malloc/new/new[]&#x548C;free/delete/delete[]&#x4E0D;&#x5339;&#x914D; (Mismatched use of malloc/new/new [] vs free/delete/delete [])</li>
<li>src&#x548C;dst&#x7684;&#x91CD;&#x53E0; (Overlapping src and dst pointers in memcpy() and related functions)</li>
</ul>
</li>
<li><p><strong>Callgrind</strong>&#xFF1A;</p>
<p>&#x751F;&#x6210;&#x8C03;&#x7528;&#x56FE;&#x7684;&#x7F13;&#x5B58;&#x5206;&#x6790;&#x5668;&#xFF0C;&#x5B83;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x68C0;&#x67E5;&#x7A0B;&#x5E8F;&#x4E2D;<strong>&#x51FD;&#x6570;&#x8C03;&#x7528;</strong>&#x8FC7;&#x7A0B;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;&#x3002;
Callgrind&#x6536;&#x96C6;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x5173;&#x7CFB;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x6709;&#x9009;&#x62E9;&#x5730;&#x8FDB;&#x884C;cache &#x6A21;&#x62DF;&#x3002;&#x5728;&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x628A;&#x5206;&#x6790;&#x6570;&#x636E;&#x5199;&#x5165;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x3002;callgrind_annotate&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x8F6C;&#x5316;&#x6210;&#x53EF;&#x8BFB;&#x7684;&#x5F62;&#x5F0F;&#x3002;</p>
</li>
<li><p><strong>Cachegrind</strong>&#xFF1A;</p>
<p>&#x7F13;&#x5B58;&#x548C;&#x5206;&#x652F;&#x9884;&#x6D4B;&#x63A2;&#x67E5;&#x5668;&#xFF0C;&#x5B83;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x68C0;&#x67E5;&#x7A0B;&#x5E8F;&#x4E2D;<strong>&#x7F13;&#x5B58;&#x4F7F;&#x7528;</strong>&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x60A8;&#x4F7F;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x66F4;&#x5FEB;&#x3002;
&#x5B83;&#x6A21;&#x62DF; CPU&#x4E2D;&#x7684;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;I1,D1&#x548C;L2&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#xFF0C;&#x80FD;&#x591F;&#x7CBE;&#x786E;&#x5730;&#x6307;&#x51FA;&#x7A0B;&#x5E8F;&#x4E2D; cache&#x7684;&#x4E22;&#x5931;&#x548C;&#x547D;&#x4E2D;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#xFF0C;&#x5B83;&#x8FD8;&#x80FD;&#x591F;&#x4E3A;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;cache&#x4E22;&#x5931;&#x6B21;&#x6570;&#xFF0C;&#x5185;&#x5B58;&#x5F15;&#x7528;&#x6B21;&#x6570;&#xFF0C;&#x4EE5;&#x53CA;&#x6BCF;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x6BCF;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x6574;&#x4E2A;&#x7A0B;&#x5E8F;&#x4EA7;&#x751F;&#x7684;&#x6307;&#x4EE4;&#x6570;&#x3002;&#x8FD9;&#x5BF9;&#x4F18;&#x5316;&#x7A0B;&#x5E8F;&#x6709;&#x5F88;&#x5927;&#x7684;&#x5E2E;&#x52A9;&#x3002;</p>
</li>
<li><p><strong>Helgrind</strong>&#xFF1A;</p>
<p>&#x7EBF;&#x7A0B;&#x9519;&#x8BEF;&#x68C0;&#x6D4B;&#x5668;&#xFF0C;&#x5B83;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x68C0;&#x67E5;<strong>&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;</strong>&#x5E8F;&#x4E2D;&#x51FA;&#x73B0;&#x7684;<strong>&#x7ADE;&#x4E89;</strong>&#x95EE;&#x9898;&#x3002;
Helgrind &#x5BFB;&#x627E;&#x5185;&#x5B58;&#x4E2D;&#x88AB;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x53C8;&#x6CA1;&#x6709;&#x4E00;&#x8D2F;&#x52A0;&#x9501;&#x7684;&#x533A;&#x57DF;&#xFF0C;&#x8FD9;&#x4E9B;&#x533A;&#x57DF;&#x5F80;&#x5F80;&#x662F;&#x7EBF;&#x7A0B;&#x4E4B;&#x95F4;&#x5931;&#x53BB;&#x540C;&#x6B65;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x800C;&#x4E14;&#x4F1A;&#x5BFC;&#x81F4;&#x96BE;&#x4EE5;&#x53D1;&#x6398;&#x7684;&#x9519;&#x8BEF;&#x3002;Helgrind&#x5B9E;&#x73B0;&#x4E86;&#x540D;&#x4E3A;&#x201D; Eraser&#x201D; &#x7684;&#x7ADE;&#x4E89;&#x68C0;&#x6D4B;&#x7B97;&#x6CD5;&#xFF0C;&#x5E76;&#x505A;&#x4E86;&#x8FDB;&#x4E00;&#x6B65;&#x6539;&#x8FDB;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x62A5;&#x544A;&#x9519;&#x8BEF;&#x7684;&#x6B21;&#x6570;&#x3002;</p>
</li>
<li><p>DRD&#xFF1A;&#x8FD8;&#x662F;&#x7EBF;&#x7A0B;&#x9519;&#x8BEF;&#x68C0;&#x6D4B;&#x5668;&#x3002;&#x5B83;&#x7C7B;&#x4F3C;&#x4E8E;Helgrind&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x5206;&#x6790;&#x6280;&#x672F;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x80FD;&#x4F1A;&#x53D1;&#x73B0;&#x4E0D;&#x540C;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
</li>
<li><p><strong>Massif</strong>&#xFF1A;</p>
<p>&#x5806;&#x5206;&#x6790;&#x5668;&#xFF0C;&#x5B83;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x68C0;&#x67E5;&#x7A0B;&#x5E8F;&#x4E2D;<strong>&#x5806;&#x6808;&#x4F7F;&#x7528;</strong>&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;&#x3002;
&#x5806;&#x6808;&#x5206;&#x6790;&#x5668;&#xFF0C;&#x5B83;&#x80FD;&#x6D4B;&#x91CF;&#x7A0B;&#x5E8F;&#x5728;&#x5806;&#x6808;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x591A;&#x5C11;&#x5185;&#x5B58;&#xFF0C;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#x5806;&#x5757;&#xFF0C;&#x5806;&#x7BA1;&#x7406;&#x5757;&#x548C;&#x6808;&#x7684;&#x5927;&#x5C0F;&#x3002;Massif&#x80FD;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5728;&#x5E26;&#x6709;&#x865A;&#x62DF;&#x5185;&#x5B58;&#x7684;&#x73B0;&#x4EE3;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5B83;&#x8FD8;&#x80FD;&#x591F;&#x52A0;&#x901F;&#x6211;&#x4EEC;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x51CF;&#x5C11;&#x7A0B;&#x5E8F;&#x505C;&#x7559;&#x5728;&#x4EA4;&#x6362;&#x533A;&#x4E2D;&#x7684;&#x51E0;&#x7387;&#x3002;</p>
</li>
<li><p>DHAT&#xFF1A;&#x662F;&#x53E6;&#x4E00;&#x79CD;&#x5806;&#x5206;&#x6790;&#x5668;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x60A8;&#x4E86;&#x89E3;&#x6A21;&#x5757;&#x5BFF;&#x547D;&#xFF0C;&#x6A21;&#x5757;&#x5229;&#x7528;&#x7387;&#x548C;&#x5E03;&#x5C40;&#x6548;&#x7387;&#x4F4E;&#x4E0B;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
</li>
<li><p>BBV&#xFF1A;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x6027;&#x7684;SimPoint&#x57FA;&#x672C;&#x5757;&#x77E2;&#x91CF;&#x751F;&#x6210;&#x5668;&#x3002;&#x8FD9;&#x5BF9;&#x4ECE;&#x4E8B;&#x8BA1;&#x7B97;&#x673A;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x7814;&#x7A76;&#x548C;&#x5F00;&#x53D1;&#x7684;&#x4EBA;&#x5458;&#x5F88;&#x6709;&#x7528;&#x3002;</p>
</li>
</ol>
<h4 id="&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x539F;&#x7406;"><a name="&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x539F;&#x7406;" class="anchor-navigation-ex-anchor" href="#&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x539F;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x539F;&#x7406;</h4>
<p><strong>Memcheck</strong>&#x68C0;&#x6D4B;&#x5185;&#x5B58;&#x95EE;&#x9898;&#x7684;&#x539F;&#x7406;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<p><a href="assets/image003.jpg" data-lightbox="7f5e9161-78ae-4fde-9840-8d617b8ab157" data-title="&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x539F;&#x7406;"><img src="assets/image003.jpg" alt="&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x539F;&#x7406;"></a></p>
<p>Memcheck &#x80FD;&#x591F;&#x68C0;&#x6D4B;&#x51FA;&#x5185;&#x5B58;&#x95EE;&#x9898;&#xFF0C;&#x5173;&#x952E;&#x5728;&#x4E8E;&#x5176;&#x5EFA;&#x7ACB;&#x4E86;&#x4E24;&#x4E2A;&#x5168;&#x5C40;&#x8868;&#x3002;</p>
<ul>
<li>Valid-Value &#x8868;&#xFF1A;
&#x5BF9;&#x4E8E;&#x8FDB;&#x7A0B;&#x7684;&#x6574;&#x4E2A;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5B57;&#x8282;(byte)&#xFF0C;&#x90FD;&#x6709;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x7684; 8 &#x4E2A; bits&#xFF1B;&#x5BF9;&#x4E8E; CPU &#x7684;&#x6BCF;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x7684; bit &#x5411;&#x91CF;&#x3002;&#x8FD9;&#x4E9B; bits &#x8D1F;&#x8D23;&#x8BB0;&#x5F55;&#x8BE5;&#x5B57;&#x8282;&#x6216;&#x8005;&#x5BC4;&#x5B58;&#x5668;&#x503C;&#x662F;&#x5426;&#x5177;&#x6709;&#x6709;&#x6548;&#x7684;&#x3001;&#x5DF2;&#x521D;&#x59CB;&#x5316;&#x7684;&#x503C;&#x3002;</li>
<li>Valid-Address &#x8868;
&#x5BF9;&#x4E8E;&#x8FDB;&#x7A0B;&#x6574;&#x4E2A;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5B57;&#x8282;(byte)&#xFF0C;&#x8FD8;&#x6709;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x7684; 1 &#x4E2A; bit&#xFF0C;&#x8D1F;&#x8D23;&#x8BB0;&#x5F55;&#x8BE5;&#x5730;&#x5740;&#x662F;&#x5426;&#x80FD;&#x591F;&#x88AB;&#x8BFB;&#x5199;&#x3002;</li>
</ul>
<p><strong>&#x68C0;&#x6D4B;&#x539F;&#x7406;</strong>&#xFF1A;</p>
<ul>
<li>&#x5F53;&#x8981;&#x8BFB;&#x5199;&#x5185;&#x5B58;&#x4E2D;&#x67D0;&#x4E2A;&#x5B57;&#x8282;&#x65F6;&#xFF0C;&#x9996;&#x5148;&#x68C0;&#x67E5;&#x8FD9;&#x4E2A;&#x5B57;&#x8282;&#x5BF9;&#x5E94;&#x7684; A bit&#x3002;&#x5982;&#x679C;&#x8BE5;A bit&#x663E;&#x793A;&#x8BE5;&#x4F4D;&#x7F6E;&#x662F;&#x65E0;&#x6548;&#x4F4D;&#x7F6E;&#xFF0C;memcheck &#x5219;&#x62A5;&#x544A;&#x8BFB;&#x5199;&#x9519;&#x8BEF;&#x3002;</li>
<li>&#x5185;&#x6838;&#xFF08;core&#xFF09;&#x7C7B;&#x4F3C;&#x4E8E;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x7684; CPU &#x73AF;&#x5883;&#xFF0C;&#x8FD9;&#x6837;&#x5F53;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x5B57;&#x8282;&#x88AB;&#x52A0;&#x8F7D;&#x5230;&#x771F;&#x5B9E;&#x7684; CPU &#x4E2D;&#x65F6;&#xFF0C;&#x8BE5;&#x5B57;&#x8282;&#x5BF9;&#x5E94;&#x7684; V bit &#x4E5F;&#x88AB;&#x52A0;&#x8F7D;&#x5230;&#x865A;&#x62DF;&#x7684; CPU &#x73AF;&#x5883;&#x4E2D;&#x3002;&#x4E00;&#x65E6;&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x7684;&#x503C;&#xFF0C;&#x88AB;&#x7528;&#x6765;&#x4EA7;&#x751F;&#x5185;&#x5B58;&#x5730;&#x5740;&#xFF0C;&#x6216;&#x8005;&#x8BE5;&#x503C;&#x80FD;&#x591F;&#x5F71;&#x54CD;&#x7A0B;&#x5E8F;&#x8F93;&#x51FA;&#xFF0C;&#x5219; memcheck &#x4F1A;&#x68C0;&#x67E5;&#x5BF9;&#x5E94;&#x7684;V bits&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x503C;&#x5C1A;&#x672A;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5219;&#x4F1A;&#x62A5;&#x544A;&#x4F7F;&#x7528;&#x672A;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;&#x9519;&#x8BEF;&#x3002;</li>
</ul>
<h4 id="c&#x5185;&#x5B58;&#x5206;&#x914D;&#x65B9;&#x5F0F;"><a name="c&#x5185;&#x5B58;&#x5206;&#x914D;&#x65B9;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#c&#x5185;&#x5B58;&#x5206;&#x914D;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><strong>C++&#x5185;&#x5B58;&#x5206;&#x914D;&#x65B9;&#x5F0F;</strong></h4>
<p>&#x5728;C++&#x4E2D;&#xFF0C;&#x5185;&#x5B58;&#x5206;&#x6210;5&#x4E2A;&#x533A;&#xFF0C;&#x4ED6;&#x4EEC;&#x5206;&#x522B;&#x662F;&#x5806;&#x3001;&#x6808;&#x3001;&#x81EA;&#x7531;&#x5B58;&#x50A8;&#x533A;&#x3001;&#x5168;&#x5C40;/&#x9759;&#x6001;&#x5B58;&#x50A8;&#x533A;&#x548C;&#x5E38;&#x91CF;&#x5B58;&#x50A8;&#x533A;&#x3002;</p>
<ul>
<li><strong>&#x6808;</strong>&#xFF1A;&#x5728;&#x6267;&#x884C;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x51FD;&#x6570;&#x5185;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x90FD;&#x53EF;&#x4EE5;&#x5728;&#x6808;&#x4E0A;&#x521B;&#x5EFA;&#xFF0C;&#x51FD;&#x6570;&#x6267;&#x884C;&#x7ED3;&#x675F;&#x65F6;&#x8FD9;&#x4E9B;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x81EA;&#x52A8;&#x88AB;&#x91CA;&#x653E;&#x3002;&#x6808;&#x5185;&#x5B58;&#x5206;&#x914D;&#x8FD0;&#x7B97;&#x5185;&#x7F6E;&#x4E8E;&#x5904;&#x7406;&#x5668;&#x7684;&#x6307;&#x4EE4;&#x96C6;&#x4E2D;&#xFF0C;&#x6548;&#x7387;&#x5F88;&#x9AD8;&#xFF0C;&#x4F46;&#x662F;&#x5206;&#x914D;&#x7684;&#x5185;&#x5B58;&#x5BB9;&#x91CF;&#x6709;&#x9650;&#x3002;</li>
<li><strong>&#x5806;</strong>&#xFF1A;malloc&#x5728;&#x5806;&#x4E0A;&#x5206;&#x914D;&#x7684;&#x5185;&#x5B58;&#x5757;&#xFF0C;&#x4F7F;&#x7528;free&#x91CA;&#x653E;&#x5185;&#x5B58;&#x3002;</li>
<li><strong>&#x81EA;&#x7531;&#x5B58;&#x50A8;&#x533A;</strong>&#xFF1A;new&#x6240;&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#x5219;&#x662F;&#x5728;&#x81EA;&#x7531;&#x5B58;&#x50A8;&#x533A;&#x4E0A;&#xFF0C;&#x4F7F;&#x7528;delete&#x6765;&#x91CA;&#x653E;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x4E0D;&#x7BA1;&#xFF0C;&#x7531;&#x7A0B;&#x5E8F;&#x81EA;&#x5DF1;&#x91CA;&#x653E;&#xFF0C;&#x4E00;&#x822C;&#x4E00;&#x4E2A;<code>new</code>&#x5C31;&#x8981;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A; <code>delete</code>&#x3002;&#x5982;&#x679C;&#x7A0B;&#x5E8F;&#x5458;&#x6CA1;&#x6709;&#x91CA;&#x653E;&#x6389;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x7A0B;&#x5E8F;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x56DE;&#x6536;&#x3002;</li>
<li><strong>&#x5168;&#x5C40;/&#x9759;&#x6001;&#x5B58;&#x50A8;&#x533A;</strong>&#xFF1A;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x548C;&#x9759;&#x6001;&#x53D8;&#x91CF;&#x88AB;&#x5206;&#x914D;&#x5230;&#x540C;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x5728;&#x4EE5;&#x524D;&#x7684;C&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x53C8;&#x5206;&#x4E3A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x548C;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#xFF0C;&#x5728;C++&#x91CC;&#x9762;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x533A;&#x5206;&#x4E86;&#xFF0C;&#x4ED6;&#x4EEC;&#x5171;&#x540C;&#x5360;&#x7528;&#x540C;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x533A;&#x3002;</li>
<li><strong>&#x5E38;&#x91CF;&#x5B58;&#x50A8;&#x533A;</strong>&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x5757;&#x6BD4;&#x8F83;&#x7279;&#x6B8A;&#x7684;&#x5B58;&#x50A8;&#x533A;&#xFF0C;&#x4ED6;&#x4EEC;&#x91CC;&#x9762;&#x5B58;&#x653E;&#x7684;&#x662F;&#x5E38;&#x91CF;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x4FEE;&#x6539;&#x3002;</li>
</ul>
<blockquote>
<p>&#x5806;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EF4;&#x62A4;&#x7684;&#x4E00;&#x5757;&#x5185;&#x5B58;&#xFF0C;&#x800C;&#x81EA;&#x7531;&#x5B58;&#x50A8;&#x662F;C++&#x4E2D;&#x901A;&#x8FC7;new&#x4E0E;delete&#x52A8;&#x6001;&#x5206;&#x914D;&#x548C;&#x91CA;&#x653E;&#x5BF9;&#x8C61;&#x7684;&#x62BD;&#x8C61;&#x6982;&#x5FF5;&#x3002;&#x5806;&#x4E0E;&#x81EA;&#x7531;&#x5B58;&#x50A8;&#x533A;&#x5E76;&#x4E0D;&#x7B49;&#x4EF7;&#x3002;</p>
<ul>
<li>&#x81EA;&#x7531;&#x5B58;&#x50A8;&#x662F;C++&#x4E2D;&#x901A;&#x8FC7;new&#x4E0E;delete&#x52A8;&#x6001;&#x5206;&#x914D;&#x548C;&#x91CA;&#x653E;&#x5BF9;&#x8C61;&#x7684;<strong>&#x62BD;&#x8C61;&#x6982;&#x5FF5;</strong>&#xFF0C;&#x800C;&#x5806;&#xFF08;heap&#xFF09;&#x662F;C&#x8BED;&#x8A00;&#x548C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x672F;&#x8BED;&#xFF0C;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EF4;&#x62A4;&#x7684;&#x4E00;&#x5757;&#x52A8;&#x6001;&#x5206;&#x914D;&#x5185;&#x5B58;&#x3002;</li>
<li>new&#x6240;&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x5728;C++&#x4E2D;&#x79F0;&#x4E3A;&#x81EA;&#x7531;&#x5B58;&#x50A8;&#x533A;&#x3002;&#x5373;&#x7531;&#x5806;&#x5B9E;&#x73B0;&#x7684;&#x81EA;&#x7531;&#x5B58;&#x50A8;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;new&#x6240;&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x5728;&#x5806;&#x4E0A;&#x3002;</li>
<li>&#x5806;&#x4E0E;&#x81EA;&#x7531;&#x5B58;&#x50A8;&#x533A;&#x8FD8;&#x662F;&#x6709;&#x533A;&#x522B;&#x7684;&#xFF0C;&#x5B83;&#x4EEC;&#x5E76;&#x975E;&#x7B49;&#x4EF7;&#x3002;</li>
</ul>
</blockquote>
<h4 id="&#x5806;&#x548C;&#x6808;&#x533A;&#x522B;"><a name="&#x5806;&#x548C;&#x6808;&#x533A;&#x522B;" class="anchor-navigation-ex-anchor" href="#&#x5806;&#x548C;&#x6808;&#x533A;&#x522B;"><i class="fa fa-link" aria-hidden="true"></i></a><strong>&#x5806;&#x548C;&#x6808;&#x533A;&#x522B;</strong></h4>
<ol>
<li><strong>&#x7BA1;&#x7406;&#x65B9;&#x5F0F;</strong>&#xFF1A;&#x5BF9;&#x4E8E;&#x6808;&#x6765;&#x8BB2;&#xFF0C;&#x662F;&#x7531;&#x7F16;&#x8BD1;&#x5668;&#x81EA;&#x52A8;&#x7BA1;&#x7406;&#xFF0C;&#x65E0;&#x9700;&#x6211;&#x4EEC;&#x624B;&#x5DE5;&#x63A7;&#x5236;&#xFF1B;&#x5BF9;&#x4E8E;&#x5806;&#x6765;&#x8BF4;&#xFF0C;&#x91CA;&#x653E;&#x5DE5;&#x4F5C;&#x7531;&#x7A0B;&#x5E8F;&#x5458;&#x63A7;&#x5236;&#xFF0C;&#x5BB9;&#x6613;&#x4EA7;&#x751F;<code>memory leak</code>&#x3002;</li>
<li><strong>&#x7A7A;&#x95F4;&#x5927;&#x5C0F;</strong>&#xFF1A;&#x4E00;&#x822C;&#x6765;&#x8BB2;&#x5728;32&#x4F4D;&#x7CFB;&#x7EDF;&#x4E0B;&#xFF0C;&#x5806;&#x5185;&#x5B58;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;4G&#x7684;&#x7A7A;&#x95F4;&#xFF0C;&#x4ECE;&#x8FD9;&#x4E2A;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#x5806;&#x5185;&#x5B58;&#x51E0;&#x4E4E;&#x662F;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x9650;&#x5236;&#x7684;&#x3002;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x6808;&#x6765;&#x8BB2;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;&#x7684;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x6808;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;&#x662F;&#x51E0;M&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x3002;</li>
<li><strong>&#x788E;&#x7247;&#x95EE;&#x9898;</strong>&#xFF1A;&#x5BF9;&#x4E8E;&#x5806;&#x6765;&#x8BB2;&#xFF0C;&#x9891;&#x7E41;&#x7684;<code>new/delete</code>&#x52BF;&#x5FC5;&#x4F1A;&#x9020;&#x6210;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x7684;&#x4E0D;&#x8FDE;&#x7EED;&#xFF0C;&#x4ECE;&#x800C;&#x9020;&#x6210;&#x5927;&#x91CF;&#x7684;&#x788E;&#x7247;&#xFF0C;&#x4F7F;&#x7A0B;&#x5E8F;&#x6548;&#x7387;&#x964D;&#x4F4E;&#x3002;&#x5BF9;&#x4E8E;&#x6808;&#x6765;&#x8BB2;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;&#x6808;&#x662F;&#x5148;&#x8FDB;&#x540E;&#x51FA;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x4ED6;&#x4EEC;&#x662F;&#x5982;&#x6B64;&#x7684;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#xFF0C;&#x4EE5;&#x81F3;&#x4E8E;&#x6C38;&#x8FDC;&#x90FD;&#x4E0D;&#x53EF;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x5757;&#x4ECE;&#x6808;&#x4E2D;&#x95F4;&#x5F39;&#x51FA;&#xFF0C;&#x5728;&#x4ED6;&#x5F39;&#x51FA;&#x4E4B;&#x524D;&#xFF0C;&#x5728;&#x4ED6;&#x4E0A;&#x9762;&#x7684;&#x540E;&#x8FDB;&#x7684;&#x6808;&#x5185;&#x5BB9;&#x5DF2;&#x7ECF;&#x88AB;&#x5F39;&#x51FA;&#x3002;</li>
<li><strong>&#x751F;&#x957F;&#x65B9;&#x5411;</strong>&#xFF1A;&#x5BF9;&#x4E8E;&#x5806;&#x6765;&#x8BB2;&#xFF0C;&#x751F;&#x957F;&#x65B9;&#x5411;&#x662F;&#x5411;&#x4E0A;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5411;&#x7740;&#x5185;&#x5B58;&#x5730;&#x5740;&#x589E;&#x52A0;&#x7684;&#x65B9;&#x5411;&#xFF1B;&#x5BF9;&#x4E8E;&#x6808;&#x6765;&#x8BB2;&#xFF0C;&#x5B83;&#x7684;&#x751F;&#x957F;&#x65B9;&#x5411;&#x662F;&#x5411;&#x4E0B;&#x7684;&#xFF0C;&#x662F;&#x5411;&#x7740;&#x5185;&#x5B58;&#x5730;&#x5740;&#x51CF;&#x5C0F;&#x7684;&#x65B9;&#x5411;&#x589E;&#x957F;&#x3002;</li>
<li><strong>&#x5206;&#x914D;&#x65B9;&#x5F0F;</strong>&#xFF1A;&#x5806;&#x90FD;&#x662F;&#x52A8;&#x6001;&#x5206;&#x914D;&#x7684;&#xFF0C;&#x6CA1;&#x6709;&#x9759;&#x6001;&#x5206;&#x914D;&#x7684;&#x5806;&#x3002;&#x6808;&#x6709;2&#x79CD;&#x5206;&#x914D;&#x65B9;&#x5F0F;&#xFF1A;&#x9759;&#x6001;&#x5206;&#x914D;&#x548C;&#x52A8;&#x6001;&#x5206;&#x914D;&#x3002;&#x9759;&#x6001;&#x5206;&#x914D;&#x662F;&#x7F16;&#x8BD1;&#x5668;&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x7684;&#x5206;&#x914D;&#x3002;&#x52A8;&#x6001;&#x5206;&#x914D;&#x7531;<code>alloca</code>&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x5206;&#x914D;&#xFF0C;&#x4F46;&#x662F;&#x6808;&#x7684;&#x52A8;&#x6001;&#x5206;&#x914D;&#x548C;&#x5806;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x4ED6;&#x7684;&#x52A8;&#x6001;&#x5206;&#x914D;&#x662F;&#x7531;&#x7F16;&#x8BD1;&#x5668;&#x8FDB;&#x884C;&#x91CA;&#x653E;&#xFF0C;&#x65E0;&#x9700;&#x6211;&#x4EEC;&#x624B;&#x5DE5;&#x5B9E;&#x73B0;&#x3002;</li>
<li><strong>&#x5206;&#x914D;&#x6548;&#x7387;</strong>&#xFF1A;&#x6808;&#x662F;&#x673A;&#x5668;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x4F1A;&#x5728;&#x5E95;&#x5C42;&#x5BF9;&#x6808;&#x63D0;&#x4F9B;&#x652F;&#x6301;&#xFF1A;&#x5206;&#x914D;&#x4E13;&#x95E8;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x5B58;&#x653E;&#x6808;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x538B;&#x6808;&#x51FA;&#x6808;&#x90FD;&#x6709;&#x4E13;&#x95E8;&#x7684;&#x6307;&#x4EE4;&#x6267;&#x884C;&#xFF0C;&#x8FD9;&#x5C31;&#x51B3;&#x5B9A;&#x4E86;&#x6808;&#x7684;&#x6548;&#x7387;&#x6BD4;&#x8F83;&#x9AD8;&#x3002;&#x5806;&#x5219;&#x662F;C/C++&#x51FD;&#x6570;&#x5E93;&#x63D0;&#x4F9B;&#x7684;&#xFF0C;&#x5B83;&#x7684;&#x673A;&#x5236;&#x662F;&#x5F88;&#x590D;&#x6742;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#x4E3A;&#x4E86;&#x5206;&#x914D;&#x4E00;&#x5757;&#x5185;&#x5B58;&#xFF0C;&#x5E93;&#x51FD;&#x6570;&#x4F1A;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x7684;&#x7B97;&#x6CD5;&#x5728;&#x5806;&#x5185;&#x5B58;&#x4E2D;&#x641C;&#x7D22;&#x53EF;&#x7528;&#x7684;&#x8DB3;&#x591F;&#x5927;&#x5C0F;&#x7684;&#x7A7A;&#x95F4;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8DB3;&#x591F;&#x5927;&#x5C0F;&#x7684;&#x7A7A;&#x95F4;&#xFF08;&#x53EF;&#x80FD;&#x662F;&#x7531;&#x4E8E;&#x5185;&#x5B58;&#x788E;&#x7247;&#x592A;&#x591A;&#xFF09;&#xFF0C;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x8C03;&#x7528;&#x7CFB;&#x7EDF;&#x529F;&#x80FD;&#x53BB;&#x589E;&#x52A0;&#x7A0B;&#x5E8F;&#x6570;&#x636E;&#x6BB5;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x6709;&#x673A;&#x4F1A;&#x5206;&#x5230;&#x8DB3;&#x591F;&#x5927;&#x5C0F;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x8FD4;&#x56DE;&#x3002;&#x663E;&#x7136;&#xFF0C;&#x5806;&#x7684;&#x6548;&#x7387;&#x6BD4;&#x6808;&#x8981;&#x4F4E;&#x5F97;&#x591A;&#x3002;</li>
</ol>
<h3 id="valgrind&#x7684;&#x4F7F;&#x7528;"><a name="valgrind&#x7684;&#x4F7F;&#x7528;" class="anchor-navigation-ex-anchor" href="#valgrind&#x7684;&#x4F7F;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>valgrind&#x7684;&#x4F7F;&#x7528;</h3>
<h4 id="&#x7F16;&#x8BD1;&#x51C6;&#x5907;"><a name="&#x7F16;&#x8BD1;&#x51C6;&#x5907;" class="anchor-navigation-ex-anchor" href="#&#x7F16;&#x8BD1;&#x51C6;&#x5907;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7F16;&#x8BD1;&#x51C6;&#x5907;</h4>
<p>&#x5EFA;&#x8BAE;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x52A0;&#x4E0A;<code>-g</code>&#x53C2;&#x6570;&#x542F;&#x7528;&#x4E86;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;valgrind&#x53D1;&#x73B0;&#x7684;&#x9519;&#x8BEF;&#x66F4;&#x7CBE;&#x786E;&#xFF0C;&#x5982;&#x80FD;&#x591F;&#x5B9A;&#x4F4D;&#x5230;&#x6E90;&#x4EE3;&#x7801;&#x884C;&#x3002;</p>
<p>&#x7F16;&#x8BD1;&#x4F18;&#x5316;&#x9009;&#x9879;&#x8BF7;&#x9009;&#x62E9;<code>-O0</code>&#xFF0C;&#x867D;&#x7136;&#x8FD9;&#x4F1A;&#x964D;&#x4F4E;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x6548;&#x7387;&#x3002;&#x56E0;&#x4E3A;&#x5728;&#x6781;&#x5C11;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<code>-O2</code> &#x4F1A;<code>-O1</code>&#x89C2;&#x5BDF;&#x5230;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x4F18;&#x5316;&#xFF0C;&#x4ECE;&#x800C;&#x751F;&#x6210;&#x4F7F;Memcheck&#x8BEF;&#x62A5;&#x672A;&#x521D;&#x59CB;&#x5316;&#x503C;&#x9519;&#x8BEF;&#x6216;&#x4E22;&#x5931;&#x672A;&#x521D;&#x59CB;&#x5316;&#x503C;&#x9519;&#x8BEF;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x9664;&#x4E86;Memcheck&#x6240;&#x6709;&#x5176;&#x4ED6;&#x5DE5;&#x5177;&#x4E0D;&#x53D7;&#x4F18;&#x5316;&#x7EA7;&#x522B;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x5BF9;&#x4E8E;Cachegrind&#x4E4B;&#x7C7B;&#x7684;&#x6027;&#x80FD;&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;&#x6700;&#x597D;&#x4EE5;&#x5176;&#x5E38;&#x89C4;&#x4F18;&#x5316;&#x7EA7;&#x522B;&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x3002;</p>
<p>&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;<code>-Wall</code>&#x5F00;&#x542F;&#x6240;&#x6709;&#x8B66;&#x544A;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x53EF;&#x4EE5;&#x8BC6;&#x522B;Valgrind&#x5728;&#x8F83;&#x9AD8;&#x7684;&#x4F18;&#x5316;&#x7EA7;&#x522B;&#x4E0A;&#x53EF;&#x80FD;&#x4F1A;&#x9057;&#x6F0F;&#x7684;&#x90E8;&#x5206;&#x6216;&#x5168;&#x90E8;&#x95EE;&#x9898;&#x3002;</p>
<pre><code>#include &lt;iostream&gt;
int main(void) {
    int *x = new int[10];
    // problem 1: heap block overrun
    x[20] = 2; //&#x5199;&#x8D8A;&#x754C;&#x6CA1;&#x6709;&#x6302;&#x6389;
    // problem 2: memory leak -- x &#x672A;&#x91CA;&#x653E;
    return 0;
}
</code></pre><p>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;<code>-g</code>,<code>O0</code>,<code>Wall</code>&#x9009;&#x9879;&#xFF0C;<code>-std=c++11</code>&#x53EF;&#x9009;&#xFF1A;</p>
<pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><h4 id="valgrind&#x8C03;&#x8BD5;"><a name="valgrind&#x8C03;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#valgrind&#x8C03;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>valgrind&#x8C03;&#x8BD5;</h4>
<p>Valgrind&#x88AB;&#x8BBE;&#x8BA1;&#x4E3A;&#x5C3D;&#x53EF;&#x80FD;&#x975E;&#x4FB5;&#x5165;&#x6027;&#x7684;&#x3002;&#x5229;&#x7528;valgrind&#x8C03;&#x8BD5;&#x5185;&#x5B58;&#x95EE;&#x9898;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x6E90;&#xFF0C;&#x91CD;&#x65B0;&#x94FE;&#x63A5;&#x6216;&#x4EE5;&#x5176;&#x4ED6;&#x65B9;&#x5F0F;&#x4FEE;&#x6539;&#x8981;&#x68C0;&#x67E5;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B83;&#x7684;&#x8F93;&#x5165;&#x5C31;&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#x7684;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x3002;</p>
<p>&#x8C03;&#x7528;Valgrind&#x7684;&#x901A;&#x7528;&#x683C;&#x5F0F;&#x662F;&#xFF1A;</p>
<pre><code>valgrind [valgrind-options] your-prog-name [your-prog-options]

valgrind --tool=memcheck --leak-check=full ./main
</code></pre><p><code>--tool=memcheck</code>&#x9009;&#x62E9;valgrind&#x5DE5;&#x5177;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;memcheck&#x3002;<code>--leak-check=full</code> &#x9009;&#x9879;&#x6253;&#x5F00;&#x8BE6;&#x7EC6;&#x7684;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x68C0;&#x6D4B;&#x5668;&#x3002;</p>
<p>&#x60A8;&#x7684;&#x7A0B;&#x5E8F;&#x5C06;&#x6BD4;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x6162;&#x5F97;&#x591A;&#xFF08;&#x4F8B;&#x5982;20&#x5230;30&#x500D;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5B58;&#x3002;memcheck&#x5C06;&#x53D1;&#x51FA;&#x6709;&#x5173;&#x5185;&#x5B58;&#x9519;&#x8BEF;&#x548C;&#x5B83;&#x68C0;&#x6D4B;&#x5230;&#x7684;&#x6CC4;&#x6F0F;&#x7684;&#x6D88;&#x606F;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;&#x7684;&#x662F;C ++&#xFF0C;&#x5219;&#x53EF;&#x80FD;&#x8981;&#x8003;&#x8651;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x9009;&#x62E9;&#x662F;<code>-fno-inline</code>&#x3002;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x66F4;&#x8F7B;&#x677E;&#x5730;&#x67E5;&#x770B;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x94FE;&#xFF0C;&#x8FD9;&#x6709;&#x52A9;&#x4E8E;&#x51CF;&#x5C11;&#x5728;&#x5927;&#x578B;C ++&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x5BFC;&#x822A;&#x65F6;&#x7684;&#x6DF7;&#x4E71;&#x3002;&#x6216;&#x8005;&#xFF0C;Valgrind&#x9009;&#x9879; <code>--read-inline-info=yes</code>&#x6307;&#x793A;Valgrind&#x8BFB;&#x53D6;&#x63CF;&#x8FF0;&#x5185;&#x8054;&#x4FE1;&#x606F;&#x7684;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5373;&#x4F7F;&#x4F7F;&#x7528;&#x5185;&#x8054;&#x7F16;&#x8BD1;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x94FE;&#x4E5F;&#x4F1A;&#x6B63;&#x786E;&#x663E;&#x793A;&#x3002;</p>
<h4 id="&#x9009;&#x9879;&#x53C2;&#x6570;"><a name="&#x9009;&#x9879;&#x53C2;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x9009;&#x9879;&#x53C2;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x9009;&#x9879;&#x53C2;&#x6570;</h4>
<p>Valgrind &#x7684;&#x53C2;&#x6570;&#x5206;&#x4E3A;&#x4E24;&#x7C7B;&#xFF0C;&#x4E00;&#x7C7B;&#x662F; Valgrind&#x6838;&#x5FC3;&#x7684;&#x53C2;&#x6570;&#x9009;&#x9879;&#xFF0C;&#x5B83;&#x5BF9;&#x6240;&#x6709;&#x7684;&#x5DE5;&#x5177;&#x90FD;&#x9002;&#x7528;&#xFF1B;&#x53E6;&#x5916;&#x4E00;&#x7C7B;&#x5C31;&#x662F;&#x5177;&#x4F53;&#x67D0;&#x4E2A;&#x5DE5;&#x5177;&#x5982; memcheck &#x7684;&#x53C2;&#x6570;&#x9009;&#x9879;&#x3002;</p>
<p>Valgrind &#x9ED8;&#x8BA4;&#x7684;&#x5DE5;&#x5177;&#x5C31;&#x662F; memcheck&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x201C;--tool=tool name&#x201D;&#x6307;&#x5B9A;&#x5176;&#x4ED6;&#x7684;&#x5DE5;&#x5177;&#x3002;Valgrind &#x63D0;&#x4F9B;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x53C2;&#x6570;&#x6EE1;&#x8DB3;&#x4F60;&#x7279;&#x5B9A;&#x7684;&#x8C03;&#x8BD5;&#x9700;&#x6C42;&#xFF0C;&#x5177;&#x4F53;&#x53EF;&#x53C2;&#x8003;&#x5176;&#x7528;&#x6237;&#x624B;&#x518C;&#xFF0C;<a href="https://www.valgrind.org/docs/manual/manual-core.html" target="_blank">Valgrind&#x6838;&#x5FC3;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x9009;&#x9879;</a>&#x3002;</p>
<p>&#x5E38;&#x7528;&#x9009;&#x9879;&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x6240;&#x6709;Valgrind&#x5DE5;&#x5177;&#xFF1A;</p>
<ol>
<li>--tool=<name> &#x8FD0;&#x884C; valgrind&#x4E2D;&#x540D;&#x4E3A;toolname&#x7684;&#x5DE5;&#x5177;&#x3002;&#x4F8B;&#x5982;memcheck&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;&#xFF0C;cachegrind&#xFF0C;callgrind&#xFF0C;helgrind&#xFF0C;drd&#xFF0C;massif&#xFF0C;dhat&#xFF0C;bouchey&#xFF0C;none&#xFF0C;exp-bbv&#x7B49;&#x3002;</name></li>
<li>-h --help &#x663E;&#x793A;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;&#x3002;</li>
<li>--version &#x663E;&#x793A;valgrind&#x5185;&#x6838;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x6BCF;&#x4E2A;&#x5DE5;&#x5177;&#x90FD;&#x6709;&#x5404;&#x81EA;&#x7684;&#x7248;&#x672C;&#x3002;</li>
<li>-q --quiet &#x5B89;&#x9759;&#x5730;&#x8FD0;&#x884C;&#xFF0C;&#x53EA;&#x6253;&#x5370;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;</li>
<li>-v --verbose &#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x4FE1;&#x606F;, &#x589E;&#x52A0;&#x9519;&#x8BEF;&#x6570;&#x7EDF;&#x8BA1;&#x3002;</li>
<li>--trace-children=no|yes &#x8DDF;&#x8E2A;&#x5B50;&#x7EBF;&#x7A0B;? [no]</li>
<li>--track-fds=no|yes &#x8DDF;&#x8E2A;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#xFF1F;[no]</li>
<li>--time-stamp=no|yes &#x589E;&#x52A0;&#x65F6;&#x95F4;&#x6233;&#x5230;LOG&#x4FE1;&#x606F;? [no]</li>
<li>--log-fd=<number> &#x8F93;&#x51FA;LOG&#x5230;&#x63CF;&#x8FF0;&#x7B26;&#x6587;&#x4EF6; [2=stderr]</number></li>
<li>--log-file=<file> &#x5C06;&#x8F93;&#x51FA;LOG&#x4FE1;&#x606F;&#x5199;&#x5165;&#x5230;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x91CC;</file></li>
<li>--log-file-exactly=<file> &#x8F93;&#x51FA;LOG&#x4FE1;&#x606F;&#x5230; file</file></li>
<li>--log-file-qualifier=<var> &#x53D6;&#x5F97;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x6765;&#x505A;&#x4E3A;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x3002; [none]</var></li>
<li>--log-socket=<ip-address:port-number> &#x8F93;&#x51FA;LOG&#x4FE1;&#x606F;&#x5230;&#x6307;&#x5B9A;IP&#x5730;&#x5740;&#x7684;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;</ip-address:port-number></li>
</ol>
<p>LOG&#x4FE1;&#x606F;&#x8F93;&#x51FA;</p>
<ol>
<li>-xml=yes &#x5C06;&#x4FE1;&#x606F;&#x4EE5;xml&#x683C;&#x5F0F;&#x8F93;&#x51FA;&#xFF0C;&#x53EA;&#x6709;memcheck&#x53EF;&#x7528;</li>
<li>-num-callers=<number> show <number> callers in stack traces [12]</number></number></li>
<li>-error-limit=no|yes &#x5982;&#x679C;&#x592A;&#x591A;&#x9519;&#x8BEF;&#xFF0C;&#x5219;&#x505C;&#x6B62;&#x663E;&#x793A;&#x65B0;&#x9519;&#x8BEF;? [yes]</li>
<li>-error-exitcode=<number> &#x5982;&#x679C;&#x53D1;&#x73B0;&#x9519;&#x8BEF;&#x5219;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4EE3;&#x7801; [0=disable]</number></li>
<li>-db-attach=no|yes &#x5F53;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;valgrind&#x4F1A;&#x81EA;&#x52A8;&#x542F;&#x52A8;&#x8C03;&#x8BD5;&#x5668;gdb&#x3002;[no]</li>
<li>-db-command=<command> &#x542F;&#x52A8;&#x8C03;&#x8BD5;&#x5668;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;[gdb -nw %f %p]</li>
</ol>
<p>&#x9002;&#x7528;&#x4E8E;Memcheck&#x5DE5;&#x5177;&#x7684;&#x76F8;&#x5173;&#x9009;&#x9879;&#xFF1A;</p>
<ol>
<li>-leak-check=no|summary|full &#x8981;&#x6C42;&#x5BF9;leak&#x7ED9;&#x51FA;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</li>
<li>-leak-resolution=low|med|high how much bt merging in leak check</li>
<li>-show-reachable=no|yes show reachable blocks in leak check</li>
</ol>
<h4 id="&#x8F93;&#x51FA;&#x4FE1;&#x606F;"><a name="&#x8F93;&#x51FA;&#x4FE1;&#x606F;" class="anchor-navigation-ex-anchor" href="#&#x8F93;&#x51FA;&#x4FE1;&#x606F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8F93;&#x51FA;&#x4FE1;&#x606F;</h4>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./a.out
==8040== Memcheck, a memory error detector
==8040== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==8040== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==8040== Command: ./main
==8040== 
==8040== Invalid write of size 4
==8040==    at 0x401170: main (&#x4F7F;&#x7528;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x5185;&#x5B58;.cpp:5)
==8040==  Address 0x4d8dcd0 is 32 bytes before an unallocated block of size 4,121,328 in arena &quot;client&quot;
==8040== 
==8040== 
==8040== HEAP SUMMARY:
==8040==     in use at exit: 40 bytes in 1 blocks
==8040==   total heap usage: 2 allocs, 1 frees, 72,744 bytes allocated
==8040== 
==8040== 40 bytes in 1 blocks are definitely lost in loss record 1 of 1
==8040==    at 0x483650F: operator new[](unsigned long) (vg_replace_malloc.c:423)
==8040==    by 0x401163: main (&#x4F7F;&#x7528;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x5185;&#x5B58;.cpp:3)
==8040== 
==8040== LEAK SUMMARY:
==8040==    definitely lost: 40 bytes in 1 blocks
==8040==    indirectly lost: 0 bytes in 0 blocks
==8040==      possibly lost: 0 bytes in 0 blocks
==8040==    still reachable: 0 bytes in 0 blocks
==8040==         suppressed: 0 bytes in 0 blocks
==8040== 
==8040== For counts of detected and suppressed errors, rerun with: -v
==8040== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
</code></pre><p><code>==8040==</code>&#x8FDB;&#x7A0B;ID8040 &#xFF0C;&#x901A;&#x5E38;&#x4E0D;&#x91CD;&#x8981;&#x3002;</p>
<p><code>HEAP SUMMARY</code>&#xFF0C;&#x5B83;&#x8868;&#x793A;&#x7A0B;&#x5E8F;&#x5728;&#x5806;&#x4E0A;&#x5206;&#x914D;&#x5185;&#x5B58;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x7A0B;&#x5E8F;&#x62A5;&#x9519;&#x7684;&#x5177;&#x4F53;&#x4F4D;&#x7F6E;&#x3002;</p>
<p><code>LEAK SUMMARY</code>&#xFF0C;&#x5B83;&#x8868;&#x793A;&#x7A0B;&#x5E8F;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5176;&#x4E2D;&#x5BF9;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#x8FDB;&#x884C;&#x4E86;&#x5206;&#x7C7B;&#xFF0C;&#x603B;&#x5171;&#x6709;&#x4E94;&#x7C7B;&#xFF1A;</p>
<ul>
<li><strong>definitely lost</strong> &#x610F;&#x5473;&#x7740;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x4E00;&#x5B9A;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#xFF1B;</li>
<li><strong>indirectly lost</strong> &#x610F;&#x5473;&#x7740;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x4E00;&#x5B9A;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#xFF0C;&#x5E76;&#x4E14;&#x6CC4;&#x9732;&#x60C5;&#x51B5;&#x548C;&#x6307;&#x9488;&#x7ED3;&#x6784;&#x76F8;&#x5173;&#x3002;</li>
<li><strong>possibly lost</strong> &#x610F;&#x5473;&#x7740;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x4E00;&#x5B9A;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#xFF0C;&#x9664;&#x975E;&#x4F60;&#x662F;&#x6545;&#x610F;&#x8FDB;&#x884C;&#x7740;&#x4E0D;&#x7B26;&#x5408;&#x5E38;&#x89C4;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#x5C06;&#x6307;&#x9488;&#x6307;&#x5411;&#x67D0;&#x4E2A;&#x5DF2;&#x5206;&#x914D;&#x5185;&#x5B58;&#x5757;&#x7684;&#x4E2D;&#x95F4;&#x4F4D;&#x7F6E;&#x3002;</li>
<li><strong>still reachable</strong> &#x610F;&#x5473;&#x7740;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#x662F;&#x6CA1;&#x95EE;&#x9898;&#x7684;&#xFF0C;&#x4F46;&#x786E;&#x5B9E;&#x6CA1;&#x6709;&#x91CA;&#x653E;&#x6389;&#x4E00;&#x4E9B;&#x672C;&#x53EF;&#x4EE5;&#x91CA;&#x653E;&#x7684;&#x5185;&#x5B58;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x662F;&#x5F88;&#x5E38;&#x89C1;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x5E38;&#x57FA;&#x4E8E;&#x5408;&#x7406;&#x7684;&#x7406;&#x7531;&#x3002;</li>
<li><strong>suppressed</strong> &#x610F;&#x5473;&#x7740;&#x6709;&#x4E9B;&#x6CC4;&#x9732;&#x4FE1;&#x606F;&#x88AB;&#x538B;&#x5236;&#x4E86;&#x3002;&#x5728;&#x9ED8;&#x8BA4;&#x7684; suppression &#x6587;&#x4EF6;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E00;&#x4E9B; suppression &#x76F8;&#x5173;&#x8BBE;&#x7F6E;&#x3002;</li>
</ul>
<h4 id="valgrind&#x7684;&#x5C40;&#x9650;"><a name="valgrind&#x7684;&#x5C40;&#x9650;" class="anchor-navigation-ex-anchor" href="#valgrind&#x7684;&#x5C40;&#x9650;"><i class="fa fa-link" aria-hidden="true"></i></a>Valgrind&#x7684;&#x5C40;&#x9650;</h4>
<h5 id="1&#x65E0;&#x6CD5;&#x53D1;&#x73B0;&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;"><a name="1&#x65E0;&#x6CD5;&#x53D1;&#x73B0;&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;" class="anchor-navigation-ex-anchor" href="#1&#x65E0;&#x6CD5;&#x53D1;&#x73B0;&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;"><i class="fa fa-link" aria-hidden="true"></i></a>1.&#x65E0;&#x6CD5;&#x53D1;&#x73B0;<strong>&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;</strong></h5>
<p>Valgrind&#x4E0D;&#x5BF9;&#x9759;&#x6001;&#x6570;&#x7EC4;(&#x5206;&#x914D;&#x5728;&#x6808;&#x4E0A;)&#x8FDB;&#x884C;&#x8FB9;&#x754C;&#x68C0;&#x67E5;&#x3002;&#x65E0;&#x6CD5;&#x53D1;&#x73B0;<strong>&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;</strong>&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x58F0;&#x660E;&#x4E86;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x6570;&#x7EC4;&#xFF0C;&#x5B58;&#x5728;&#x8BBF;&#x95EE;&#x8D8A;&#x754C;&#x95EE;&#x9898;&#xFF1A;</p>
<pre><code>int main() {
  char x[10];
  x[11] = &apos;a&apos;; // &#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;
}
</code></pre><p>valgrind&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;&#x7684;&#x95EE;&#x9898;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
==12599== Memcheck, a memory error detector
==12599== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==12599== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==12599== Command: ./main
==12599== 
==12599== 
==12599== HEAP SUMMARY:
==12599==     in use at exit: 0 bytes in 0 blocks
==12599==   total heap usage: 1 allocs, 1 frees, 72,704 bytes allocated
==12599== 
==12599== All heap blocks were freed -- no leaks are possible
==12599== 
==12599== For counts of detected and suppressed errors, rerun with: -v
==12599== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
</code></pre><p>Valgrind&#x5219;&#x4E0D;&#x4F1A;&#x8B66;&#x544A;&#x4F60;&#x9759;&#x6001;&#x6570;&#x7EC4;(&#x5206;&#x914D;&#x5728;&#x6808;&#x4E0A;)&#x8D8A;&#x754C;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x6570;&#x7EC4;&#x6539;&#x4E3A;&#x52A8;&#x6001;&#x5728;&#x5806;&#x4E0A;&#x5206;&#x914D;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x80FD;&#x8FDB;&#x884C;&#x8FB9;&#x754C;&#x68C0;&#x67E5;&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x597D;&#x50CF;&#x6709;&#x70B9;&#x5F97;&#x4E0D;&#x507F;&#x5931;&#x7684;&#x611F;&#x89C9;&#x3002;</p>
<h5 id="2&#x5360;&#x7528;&#x66F4;&#x591A;&#x5185;&#x5B58;"><a name="2&#x5360;&#x7528;&#x66F4;&#x591A;&#x5185;&#x5B58;" class="anchor-navigation-ex-anchor" href="#2&#x5360;&#x7528;&#x66F4;&#x591A;&#x5185;&#x5B58;"><i class="fa fa-link" aria-hidden="true"></i></a>2.&#x5360;&#x7528;&#x66F4;&#x591A;&#x5185;&#x5B58;</h5>
<p>Valgrind&#x5360;&#x7528;&#x4E86;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x53EF;&#x8FBE;&#x4E24;&#x500D;&#x4E8E;&#x4F60;&#x7A0B;&#x5E8F;&#x7684;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x91CF;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x7528;Valgrind&#x6765;&#x68C0;&#x6D4B;&#x4F7F;&#x7528;&#x5927;&#x91CF;&#x5185;&#x5B58;&#x7684;&#x7A0B;&#x5E8F;&#x5C31;&#x4F1A;&#x9047;&#x5230;&#x95EE;&#x9898;&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x4F1A;&#x7528;&#x5F88;&#x957F;&#x7684;&#x65F6;&#x95F4;&#x6765;&#x8FD0;&#x884C;&#x6D4B;&#x8BD5;&#x3002;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x90FD;&#x4E0D;&#x662F;&#x95EE;&#x9898;&#xFF0C;&#x5373;&#x4F7F;&#x901F;&#x5EA6;&#x6162;&#x4E5F;&#x4EC5;&#x662F;&#x68C0;&#x6D4B;&#x65F6;&#x901F;&#x5EA6;&#x6162;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7528;Valgrind&#x6765;&#x68C0;&#x6D4B;&#x4E00;&#x4E2A;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x65F6;&#x901F;&#x5EA6;&#x5C31;&#x5F88;&#x6162;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x8FD9;&#x4E0B;&#x95EE;&#x9898;&#x5C31;&#x5927;&#x4E86;&#x3002; Valgrind&#x4E0D;&#x53EF;&#x80FD;&#x68C0;&#x6D4B;&#x51FA;&#x4F60;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x72AF;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x9519;&#x8BEF;--&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x68C0;&#x67E5;&#x7F13;&#x51B2;&#x533A;&#x6EA2;&#x51FA;&#xFF0C;Valgrind&#x4E5F;&#x4E0D;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x4EE3;&#x7801;&#x5199;&#x4E86;&#x5B83;&#x4E0D;&#x5E94;&#x8BE5;&#x5199;&#x7684;&#x5185;&#x5B58;&#x3002;</p>
<h5 id="c-&#x7A0B;&#x5E8F;reachable&#x539F;&#x56E0;"><a name="c-&#x7A0B;&#x5E8F;reachable&#x539F;&#x56E0;" class="anchor-navigation-ex-anchor" href="#c-&#x7A0B;&#x5E8F;reachable&#x539F;&#x56E0;"><i class="fa fa-link" aria-hidden="true"></i></a>C++ &#x7A0B;&#x5E8F;reachable&#x539F;&#x56E0;</h5>
<p>&#x6B64;&#x95EE;&#x9898;&#x53EF;&#x80FD;&#x4E0E;gcc&#x548C;valgrind&#x7248;&#x672C;&#x6709;&#x5173;&#x7CFB;&#xFF0C;&#x6709;&#x51FA;&#x73B0;&#x6B64;&#x95EE;&#x9898;&#x7684;&#x7248;&#x672C;&#x4E3A;gcc-5.4&#xFF0C;valgrind 3.13&#xFF0C;&#x7ECF;&#x9A8C;&#x8BC1;&#x6848;&#x4F8B;gcc-8.3&#xFF0C;valgrind-3.14&#x6CA1;&#x6709;&#x51FA;&#x73B0;&#x6B64;&#x95EE;&#x9898;&#x3002;</p>
<p><a href="https://blog.csdn.net/sxj731533730/article/details/107552490" target="_blank">C++ &#x7A0B;&#x5E8F;reachable valgrind 3-13&#x6848;&#x4F8B;</a></p>
<p>&#xFF08;C++ &#x7A0B;&#x5E8F;&#x51FA;&#x73B0;reachable&#x95EE;&#x9898;&#xFF0C;&#x7528;&#x7684;gcc-5.4 valgrind 3-13 &#xFF1B; &#x7F16;&#x8BD1;&#x5668;&#x7248;&#x672C;&#x548C;&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x5DE5;&#x5177;&#x4E0D;&#x540C; &#x751F;&#x6210;&#x7684;valgrind&#x7684;&#x62A5;&#x544A;&#x5B58;&#x5728;&#x5DEE;&#x5F02;&#xFF0C;&#x5DEE;&#x5F02;&#x5728;&#x4E8E;&#x662F;&#x5426;&#x8F93;&#x51FA;&#x5185;&#x5B58;&#x6C60;&#x7684;&#x7684;log&#x4FE1;&#x606F;&#xFF0C;&#x5173;&#x4E8E;&#x5185;&#x5B58;&#x6C60;&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x76F8;&#x5173;&#x6587;&#x6863;&#xFF09;</p>
<p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x6B63;&#x5E38;&#x7684; C++ &#x7A0B;&#x5E8F;&#xFF0C;&#x6CA1;&#x6709;&#x53D1;&#x751F;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF1A;</p>
<pre><code>#include &lt;string&gt;
int main() {
  auto ptr = new std::string(&quot;Hello, World!&quot;);
  delete ptr; //&#x6B63;&#x5E38;&#x91CA;&#x653E;
  return 0;
}
</code></pre><pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x5206;&#x6790;&#x8FD9;&#x6BB5;&#x7A0B;&#x5E8F;&#xFF0C;<code>--show-leak-kinds=all</code>&#x9009;&#x9879;&#xFF0C;&#x663E;&#x793A;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x68C0;&#x6D4B;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full --show-leak-kinds=all ./main_cpp
</code></pre><p>valgrind-3.14&#x5B9E;&#x9645;&#x8F93;&#x51FA;&#xFF1A;&#xFF08;&#x6CA1;&#x6709;&#x68C0;&#x6D4B;&#x5230;&#x95EE;&#x9898;&#xFF09;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full --show-leak-kinds=all ./main
==10553== Memcheck, a memory error detector
==10553== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==10553== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==10553== Command: ./main
==10553== 
==10553== 
==10553== HEAP SUMMARY:
==10553==     in use at exit: 0 bytes in 0 blocks
==10553==   total heap usage: 2 allocs, 2 frees, 72,736 bytes allocated
==10553== 
==10553== All heap blocks were freed -- no leaks are possible
==10553== 
==10553== For counts of detected and suppressed errors, rerun with: -v
==10553== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
</code></pre><p>valgrind-3.13&#x53C2;&#x8003;&#x7684;&#x8F93;&#x51FA;&#xFF1A;(C++ &#x7A0B;&#x5E8F;&#x51FA;&#x73B0;reachable&#x95EE;&#x9898;)</p>
<blockquote>
<pre><code>==31438== Memcheck, a memory error detector
==31438== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==31438== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==31438== Command: ./main_cpp
==31438==
==31438==
==31438== HEAP SUMMARY:
==31438==     in use at exit: 72,704 bytes in 1 blocks
==31438==   total heap usage: 2 allocs, 1 frees, 72,736 bytes allocated
==31438==
==31438== 72,704 bytes in 1 blocks are still reachable in loss record 1 of 1
==31438==    at 0x4C2DBF6: malloc (vg_replace_malloc.c:299)
==31438==    by 0x4EC3EFF: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21)
==31438==    by 0x40104E9: call_init.part.0 (dl-init.c:72)
==31438==    by 0x40105FA: call_init (dl-init.c:30)
==31438==    by 0x40105FA: _dl_init (dl-init.c:120)
==31438==    by 0x4000CF9: ??? (in /lib/x86_64-linux-gnu/ld-2.23.so)
==31438==
==31438== LEAK SUMMARY:
==31438==    definitely lost: 0 bytes in 0 blocks
==31438==    indirectly lost: 0 bytes in 0 blocks
==31438==      possibly lost: 0 bytes in 0 blocks
==31438==    still reachable: 72,704 bytes in 1 blocks
==31438==         suppressed: 0 bytes in 0 blocks
==31438==
==31438== For counts of detected and suppressed errors, rerun with: -v
==31438== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x5206;&#x6790; C++ &#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x6709;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x9700;&#x8981;&#x7559;&#x610F;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x5E76;&#x6CA1;&#x6709;&#x53D1;&#x751F;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF0C;&#x4F46;&#x662F;&#x4ECE;<code>HEAP SUMMARY</code>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x7A0B;&#x5E8F;&#x5206;&#x914D;&#x4E86; 2 &#x6B21;&#x5185;&#x5B58;&#xFF0C;&#x4F46;&#x5374;&#x53EA;&#x91CA;&#x653E;&#x4E86; 1 &#x6B21;&#x5185;&#x5B58;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x8FD9;&#x6837;&#x5462;&#xFF1F;
&#x5B9E;&#x9645;&#x4E0A;&#x8FD9;&#x662F;<strong>&#x7531;&#x4E8E;C++ &#x5728;&#x5206;&#x914D;&#x5185;&#x5B58;&#x65F6;&#xFF0C;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#xFF0C;&#x4F7F;&#x7528;&#x4E86;&#x5B83;&#x81EA;&#x5DF1;&#x7684;&#x5185;&#x5B58;&#x6C60;&#x3002;&#x5F53;&#x7A0B;&#x5E8F;&#x7EC8;&#x6B62;&#x65F6;&#xFF0C;&#x5185;&#x5B58;&#x6C60;&#x7684;&#x5185;&#x5B58;&#x624D;&#x4F1A;&#x88AB;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x56DE;&#x6536;</strong>&#xFF0C;&#x6240;&#x4EE5; Valgrind &#x4F1A;&#x5C06;&#x8FD9;&#x90E8;&#x5206;&#x5185;&#x5B58;&#x62A5;&#x544A;&#x4E3A; reachable &#x7684;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF0C;<strong>reachable &#x7684;&#x5185;&#x5B58;&#x4E0D;&#x4EE3;&#x8868;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;</strong>&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x8F93;&#x51FA;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6709; 72704 &#x4E2A;&#x5B57;&#x8282;&#x662F; reachable &#x7684;&#xFF0C;&#x4F46;&#x6CA1;&#x6709;&#x62A5;&#x544A;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3002;</p>
</blockquote>
<h3 id="valgrind&#x5E38;&#x89C1;&#x5185;&#x5B58;&#x95EE;&#x9898;&#x6848;&#x4F8B;"><a name="valgrind&#x5E38;&#x89C1;&#x5185;&#x5B58;&#x95EE;&#x9898;&#x6848;&#x4F8B;" class="anchor-navigation-ex-anchor" href="#valgrind&#x5E38;&#x89C1;&#x5185;&#x5B58;&#x95EE;&#x9898;&#x6848;&#x4F8B;"><i class="fa fa-link" aria-hidden="true"></i></a>valgrind&#x5E38;&#x89C1;&#x5185;&#x5B58;&#x95EE;&#x9898;&#x6848;&#x4F8B;</h3>
<h4 id="&#x4F7F;&#x7528;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x5185;&#x5B58;&#x53D8;&#x91CF;"><a name="&#x4F7F;&#x7528;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x5185;&#x5B58;&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x4F7F;&#x7528;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x5185;&#x5B58;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F7F;&#x7528;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x5185;&#x5B58;&#x53D8;&#x91CF;</h4>
<p>&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x548C;&#x9759;&#x6001;&#x53D8;&#x91CF;&#x7684;&#x521D;&#x59CB;&#x503C;&#x5747;&#x4E3A;0&#xFF0C;&#x800C;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x548C;&#x52A8;&#x6001;&#x7533;&#x8BF7;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x5176;&#x521D;&#x59CB;&#x503C;&#x4E3A;&#x968F;&#x673A;&#x503C;&#x3002;&#x5982;&#x679C;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x4E86;&#x968F;&#x673A;&#x503C;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x90A3;&#x4E48;&#x7A0B;&#x5E8F;&#x7684;&#x884C;&#x4E3A;&#x5C31;&#x53D8;&#x5F97;&#x4E0D;&#x53EF;&#x9884;&#x671F;&#x3002;</p>
<pre><code>#include &lt;iostream&gt;
int main() {
  int x; // &#x672A;&#x521D;&#x59CB;&#x5316;
  if (x == 0) {
    std::cout &lt;&lt; &quot;X is zero&quot; &lt;&lt; std::endl;
  }
  return 0;
}
</code></pre><p>&#x7F16;&#x8BD1;&#xFF1A;</p>
<pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x68C0;&#x6D4B;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
</code></pre><p>&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre><code>==8360== Memcheck, a memory error detector
==8360== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==8360== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==8360== Command: ./main
==8360== 
==8360== Conditional jump or move depends on uninitialised value(s)
==8360==    at 0x40117E: main (main.cpp:4)
==8360== 
X is zero
==8360== 
==8360== HEAP SUMMARY:
==8360==     in use at exit: 0 bytes in 0 blocks
==8360==   total heap usage: 2 allocs, 2 frees, 73,728 bytes allocated
==8360== 
==8360== All heap blocks were freed -- no leaks are possible
==8360== 
==8360== For counts of detected and suppressed errors, rerun with: -v
==8360== Use --track-origins=yes to see where uninitialised values come from
==8360== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
</code></pre><p>&#x4F7F;&#x7528;<code>--track-origins=yes</code>&#x9009;&#x9879;&#x67E5;&#x770B;&#x5177;&#x4F53;&#x672A;&#x521D;&#x59CB;&#x5316;&#x53D8;&#x91CF;&#x7684;&#x4F4D;&#x7F6E;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full --track-origins=yes ./main
</code></pre><pre><code>==8498== Conditional jump or move depends on uninitialised value(s)
==8498==    at 0x40117E: main (main.cpp:4)
==8498==  Uninitialised value was created by a stack allocation
==8498==    at 0x401172: main (main.cpp:2)
</code></pre><p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4F1A;&#x663E;&#x793A;&#xFF1A;<code>Conditional jump or move depends on uninitialized value(s)</code> &#x5373;&#x7A0B;&#x5E8F;&#x7684;&#x8DF3;&#x8F6C;&#x4F9D;&#x8D56;&#x4E8E;&#x4E00;&#x4E2A;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x53D8;&#x91CF;&#x3002;</p>
<h4 id="&#x5185;&#x5B58;&#x8BFB;&#x5199;&#x8D8A;&#x754C;&#xFF08;&#x975E;&#x6CD5;&#x8BFB;&#x5199;&#xFF09;"><a name="&#x5185;&#x5B58;&#x8BFB;&#x5199;&#x8D8A;&#x754C;&#xFF08;&#x975E;&#x6CD5;&#x8BFB;&#x5199;&#xFF09;" class="anchor-navigation-ex-anchor" href="#&#x5185;&#x5B58;&#x8BFB;&#x5199;&#x8D8A;&#x754C;&#xFF08;&#x975E;&#x6CD5;&#x8BFB;&#x5199;&#xFF09;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5185;&#x5B58;&#x8BFB;&#x5199;&#x8D8A;&#x754C;&#xFF08;&#x975E;&#x6CD5;&#x8BFB;&#x5199;&#xFF09;</h4>
<p>&#x5F53;&#x8BBF;&#x95EE;&#x4E86;&#x4E0D;&#x8BE5;&#x8BBF;&#x95EE;&#x6216;&#x8005;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x8BBF;&#x95EE;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#xFF0C;&#x5BF9;&#x52A8;&#x6001;&#x5185;&#x5B58;&#x8BBF;&#x95EE;&#x65F6;&#x8D85;&#x51FA;&#x4E86;&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x8303;&#x56F4;&#x3002;</p>
<p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4F1A;&#x663E;&#x793A;&#xFF1A; <code>Invalid write of size 4; Invalid read of size 4</code></p>
<p>&#x6CE8;&#x610F;&#xFF1A;valgrind&#x65E0;&#x6CD5;&#x53D1;&#x73B0;<strong>&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;</strong>&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<h5 id="&#x52A8;&#x6001;&#x6570;&#x7EC4;&#x8BBF;&#x95EE;&#x8D8A;&#x754C;"><a name="&#x52A8;&#x6001;&#x6570;&#x7EC4;&#x8BBF;&#x95EE;&#x8D8A;&#x754C;" class="anchor-navigation-ex-anchor" href="#&#x52A8;&#x6001;&#x6570;&#x7EC4;&#x8BBF;&#x95EE;&#x8D8A;&#x754C;"><i class="fa fa-link" aria-hidden="true"></i></a><strong>&#x52A8;&#x6001;&#x6570;&#x7EC4;&#x8BBF;&#x95EE;&#x8D8A;&#x754C;</strong></h5>
<pre><code>#include &lt;iostream&gt;
int main() {
    // int a[10]; &#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;valgrind&#x65E0;&#x6CD5;&#x68C0;&#x67E5;&#x51FA;&#x6765;
    int *iptr = new int[10]; //&#x52A8;&#x6001;&#x5185;&#x5B58;
    std::cout &lt;&lt; iptr[10] &lt;&lt; std::endl; // &#x52A8;&#x6001;&#x6570;&#x7EC4;&#x8BBF;&#x95EE;&#x8D8A;&#x754C;
    delete[] iptr;
    return 0;
}
</code></pre><p>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x52A0;&#x4E0A;<code>-g</code>,<code>O0</code>,<code>Wall</code>&#x9009;&#x9879;&#xFF1A;</p>
<pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x5206;&#x6790;&#x8FD9;&#x6BB5;&#x7A0B;&#x5E8F;&#xFF0C;Valgrind &#x4F1A;&#x63D0;&#x793A;&#x8D8A;&#x754C;&#x8BBF;&#x95EE;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
</code></pre><pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
==7233== Memcheck, a memory error detector
==7233== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==7233== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==7233== Command: ./main
==7233== 
==7233== Invalid read of size 4
==7233==    at 0x4011B0: main (main.cpp:5)
==7233==  Address 0x4d8dca8 is 0 bytes after a block of size 40 alloc&apos;d
==7233==    at 0x483650F: operator new[](unsigned long) (vg_replace_malloc.c:423)
==7233==    by 0x4011A3: main (main.cpp:4)
==7233== 
0
==7233== 
==7233== HEAP SUMMARY:
==7233==     in use at exit: 0 bytes in 0 blocks
==7233==   total heap usage: 3 allocs, 3 frees, 73,768 bytes allocated
==7233== 
==7233== All heap blocks were freed -- no leaks are possible
==7233== 
==7233== For counts of detected and suppressed errors, rerun with: -v
==7233== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
</code></pre><h5 id="vector&#x8BBF;&#x95EE;&#x8D8A;&#x754C;"><a name="vector&#x8BBF;&#x95EE;&#x8D8A;&#x754C;" class="anchor-navigation-ex-anchor" href="#vector&#x8BBF;&#x95EE;&#x8D8A;&#x754C;"><i class="fa fa-link" aria-hidden="true"></i></a><strong>vector&#x8BBF;&#x95EE;&#x8D8A;&#x754C;</strong></h5>
<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;
int main() {
  std::vector&lt;int&gt; v(10, 0); //&#x52A8;&#x6001;&#x5185;&#x5B58;
  std::cout &lt;&lt; v[10] &lt;&lt; std::endl;
  //&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;&#x65E0;&#x6CD5;&#x68C0;&#x67E5;&#x51FA;&#x6765;
  return 0;
}
</code></pre><p>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x52A0;&#x4E0A;<code>-g</code>,<code>O0</code>,<code>Wall</code>&#x9009;&#x9879;&#xFF1A;</p>
<pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x5206;&#x6790;&#x8FD9;&#x6BB5;&#x7A0B;&#x5E8F;&#xFF0C;Valgrind &#x4F1A;&#x63D0;&#x793A;&#x8D8A;&#x754C;&#x8BBF;&#x95EE;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
</code></pre><pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
==5797== Memcheck, a memory error detector
==5797== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==5797== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==5797== Command: ./main
==5797== 
==5797== Invalid read of size 4
==5797==    at 0x401214: main (main.cpp:5)
==5797==  Address 0x4d8dca8 is 0 bytes after a block of size 40 alloc&apos;d
==5797==    at 0x4835DEF: operator new(unsigned long) (vg_replace_malloc.c:334)
==5797==    by 0x4017F9: __gnu_cxx::new_allocator&lt;int&gt;::allocate(unsigned long, void const*) (new_allocator.h:111)
==5797==    by 0x401766: std::allocator_traits&lt;std::allocator&lt;int&gt; &gt;::allocate(std::allocator&lt;int&gt;&amp;, unsigned long) (alloc_traits.h:436)
==5797==    by 0x4016B7: std::_Vector_base&lt;int, std::allocator&lt;int&gt; &gt;::_M_allocate(unsigned long) (stl_vector.h:296)
==5797==    by 0x4015A4: std::_Vector_base&lt;int, std::allocator&lt;int&gt; &gt;::_M_create_storage(unsigned long) (stl_vector.h:311)
==5797==    by 0x401446: std::_Vector_base&lt;int, std::allocator&lt;int&gt; &gt;::_Vector_base(unsigned long, std::allocator&lt;int&gt; const&amp;) (stl_vector.h:260)
==5797==    by 0x401339: std::vector&lt;int, std::allocator&lt;int&gt; &gt;::vector(unsigned long, int const&amp;, std::allocator&lt;int&gt; const&amp;) (stl_vector.h:429)
==5797==    by 0x4011F6: main (main.cpp:4)
==5797== 
0
==5797== 
==5797== HEAP SUMMARY:
==5797==     in use at exit: 0 bytes in 0 blocks
==5797==   total heap usage: 3 allocs, 3 frees, 73,768 bytes allocated
==5797== 
==5797== All heap blocks were freed -- no leaks are possible
==5797== 
==5797== For counts of detected and suppressed errors, rerun with: -v
==5797== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
</code></pre><p><code>Invalid read of size 4</code>&#x8868;&#x793A;&#x8D8A;&#x754C;&#x8BFB;&#x53D6; 4 &#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x51FA;&#x73B0;&#x5728;<code>main.cpp</code>&#x6587;&#x4EF6;&#x7684;&#x7B2C; 5 &#x884C;&#x3002;&#x53E6;&#x5916;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;<code>vector</code>&#x5206;&#x914D;&#x4E86;&#x4E00;&#x5757; 40 &#x5B57;&#x8282;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x7A0B;&#x5E8F;&#x8D8A;&#x754C;&#x8BBF;&#x95EE;&#x7D27;&#x63A5;&#x7740;&#x8FD9;&#x5757;&#x5185;&#x5B58;&#x4E4B;&#x540E;&#x7684; 4 &#x4E2A;&#x5B57;&#x8282;&#x3002;</p>
<h5 id="valgrind&#x65E0;&#x6CD5;&#x53D1;&#x73B0;&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;"><a name="valgrind&#x65E0;&#x6CD5;&#x53D1;&#x73B0;&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;" class="anchor-navigation-ex-anchor" href="#valgrind&#x65E0;&#x6CD5;&#x53D1;&#x73B0;&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;"><i class="fa fa-link" aria-hidden="true"></i></a>valgrind&#x65E0;&#x6CD5;&#x53D1;&#x73B0;<strong>&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;</strong></h5>
<p>Valgrind&#x4E0D;&#x5BF9;&#x9759;&#x6001;&#x6570;&#x7EC4;(&#x5206;&#x914D;&#x5728;&#x6808;&#x4E0A;)&#x8FDB;&#x884C;&#x8FB9;&#x754C;&#x68C0;&#x67E5;&#x3002;&#x65E0;&#x6CD5;&#x53D1;&#x73B0;<strong>&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;</strong>&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x58F0;&#x660E;&#x4E86;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x6570;&#x7EC4;&#xFF0C;&#x5B58;&#x5728;&#x8BBF;&#x95EE;&#x8D8A;&#x754C;&#x95EE;&#x9898;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E0D;&#x4F1A;&#x6302;&#x6389;&#xFF0C;valgrind&#x65E0;&#x6CD5;&#x68C0;&#x67E5;&#x51FA;&#x6765;&#xFF1A;</p>
<pre><code>#include &lt;iostream&gt;
int main() {
    int a[10];
    a[22] = 22; // &#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E0D;&#x4F1A;&#x6302;&#x6389;&#xFF0C;valgrind&#x65E0;&#x6CD5;&#x68C0;&#x67E5;&#x51FA;&#x6765;
    std::cout &lt;&lt; a[22] &lt;&lt; std::endl; // &#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;
    return 0;
}
</code></pre><p>valgrind&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x9759;&#x6001;&#x6570;&#x7EC4;&#x8D8A;&#x754C;&#x7684;&#x95EE;&#x9898;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main==22741== Memcheck, a memory error detector
==22741== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==22741== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==22741== Command: ./main
==22741== 
22
==22741== 
==22741== HEAP SUMMARY:
==22741==     in use at exit: 0 bytes in 0 blocks
==22741==   total heap usage: 2 allocs, 2 frees, 73,728 bytes allocated
==22741== 
==22741== All heap blocks were freed -- no leaks are possible
==22741== 
==22741== For counts of detected and suppressed errors, rerun with: -v
==22741== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
</code></pre><p>Valgrind&#x5219;&#x4E0D;&#x4F1A;&#x8B66;&#x544A;&#x4F60;&#x9759;&#x6001;&#x6570;&#x7EC4;(&#x5206;&#x914D;&#x5728;&#x6808;&#x4E0A;)&#x8D8A;&#x754C;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x6570;&#x7EC4;&#x6539;&#x4E3A;&#x52A8;&#x6001;&#x5728;&#x5806;&#x4E0A;&#x5206;&#x914D;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x80FD;&#x8FDB;&#x884C;&#x8FB9;&#x754C;&#x68C0;&#x67E5;&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x597D;&#x50CF;&#x6709;&#x70B9;&#x5F97;&#x4E0D;&#x507F;&#x5931;&#x7684;&#x611F;&#x89C9;&#x3002;</p>
<h4 id="&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF08;&#x672A;&#x91CA;&#x653E;&#x5185;&#x5B58;&#xFF09;"><a name="&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF08;&#x672A;&#x91CA;&#x653E;&#x5185;&#x5B58;&#xFF09;" class="anchor-navigation-ex-anchor" href="#&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF08;&#x672A;&#x91CA;&#x653E;&#x5185;&#x5B58;&#xFF09;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF08;&#x672A;&#x91CA;&#x653E;&#x5185;&#x5B58;&#xFF09;</h4>
<p>&#x5E38;&#x89C1;&#x7684;&#x5185;&#x5B58;&#x5206;&#x914D;&#x65B9;&#x5F0F;&#x5206;&#x4E09;&#x79CD;&#xFF1A;&#x9759;&#x6001;&#x5B58;&#x50A8;&#xFF0C;&#x6808;&#x4E0A;&#x5206;&#x914D;&#xFF0C;&#x5806;&#x4E0A;&#x5206;&#x914D;&#x3002;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5C5E;&#x4E8E;&#x9759;&#x6001;&#x5B58;&#x50A8;&#xFF0C;&#x5B83;&#x4EEC;&#x662F;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x5C31;&#x88AB;&#x5206;&#x914D;&#x4E86;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF0C;&#x51FD;&#x6570;&#x5185;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x5C5E;&#x4E8E;&#x6808;&#x4E0A;&#x5206;&#x914D;&#xFF0C;&#x800C;&#x6700;&#x7075;&#x6D3B;&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x5F53;&#x5C5E;&#x5806;&#x4E0A;&#x5206;&#x914D;&#xFF0C;&#x4E5F;&#x53EB;&#x505A;&#x5185;&#x5B58;&#x52A8;&#x6001;&#x5206;&#x914D;&#x4E86;&#x3002;&#x5E38;&#x7528;&#x7684;&#x5185;&#x5B58;&#x52A8;&#x6001;&#x5206;&#x914D;&#x51FD;&#x6570;&#x5305;&#x62EC;&#xFF1A;malloc, alloc, realloc, new&#x7B49;&#xFF0C;&#x52A8;&#x6001;&#x91CA;&#x653E;&#x51FD;&#x6570;&#x5305;&#x62EC;free, delete&#x3002;</p>
<p>&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x52A8;&#x6001;&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#x5728;&#x4F7F;&#x7528;&#x5B8C;&#x540E;&#x65E2;&#x6CA1;&#x6709;&#x91CA;&#x653E;&#x4E5F;&#x4E5F;&#x6CD5;&#x88AB;&#x7A0B;&#x5E8F;&#x7684;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x8BBF;&#x95EE;&#x3002; </p>
<p>&#x663E;&#x793A;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<code>12 bytes in 1 blocks are definitely lost in loss record 1 of 1</code></p>
<p><strong>&#x52A8;&#x6001;&#x6570;&#x7EC4;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;</strong></p>
<p>Valgrind &#x53EF;&#x4EE5;&#x7528;&#x6765;&#x68C0;&#x6D4B;&#x7A0B;&#x5E8F;&#x5728;&#x54EA;&#x4E2A;&#x4F4D;&#x7F6E;&#x53D1;&#x751F;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;</p>
<pre><code>#include &lt;vector&gt;
int main() {
    int *iptr = new int[3]; //&#x672A;&#x91CA;&#x653E;
    // auto vptr = new std::vector&lt;int&gt;(3); //&#x672A;&#x91CA;&#x653E;
    return 0;
}
</code></pre><p>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x52A0;&#x4E0A;<code>-g</code>,<code>O0</code>,<code>Wall</code>&#x9009;&#x9879;&#xFF1A;</p>
<pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x68C0;&#x6D4B;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
</code></pre><pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
==11483== Memcheck, a memory error detector
==11483== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==11483== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==11483== Command: ./main
==11483== 
==11483== 
==11483== HEAP SUMMARY:
==11483==     in use at exit: 12 bytes in 1 blocks
==11483==   total heap usage: 2 allocs, 1 frees, 72,716 bytes allocated
==11483== 
==11483== 12 bytes in 1 blocks are definitely lost in loss record 1 of 1
==11483==    at 0x483650F: operator new[](unsigned long) (vg_replace_malloc.c:423)
==11483==    by 0x401133: main (main.cpp:3)
==11483== 
==11483== LEAK SUMMARY:
==11483==    definitely lost: 12 bytes in 1 blocks
==11483==    indirectly lost: 0 bytes in 0 blocks
==11483==      possibly lost: 0 bytes in 0 blocks
==11483==    still reachable: 0 bytes in 0 blocks
==11483==         suppressed: 0 bytes in 0 blocks
==11483== 
==11483== For counts of detected and suppressed errors, rerun with: -v
==11483== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
</code></pre><p><code>HEAP SUMMARY</code>&#xFF0C;&#x5B83;&#x8868;&#x793A;&#x7A0B;&#x5E8F;&#x5728;<strong>&#x5806;&#x4E0A;&#x5185;&#x5B58;</strong>&#x5206;&#x914D;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5176;&#x4E2D;&#x7684;<code>2 allocs</code>&#x8868;&#x793A;&#x7A0B;&#x5E8F;&#x5206;&#x914D;&#x4E86; 2 &#x6B21;&#x5185;&#x5B58;&#xFF0C;<code>1 frees</code>&#x8868;&#x793A;&#x7A0B;&#x5E8F;&#x91CA;&#x653E;&#x4E86; 1 &#x6B21;&#x5185;&#x5B58;&#xFF0C;<code>12 bytes allocated</code>&#x8868;&#x793A;&#x5206;&#x914D;&#x4E86; 12 &#x4E2A;&#x5B57;&#x8282;&#x7684;&#x5185;&#x5B58;&#x3002;</p>
<p>&#x53E6;&#x5916;&#xFF0C;Valgrind &#x4E5F;&#x4F1A;&#x62A5;&#x544A;&#x7A0B;&#x5E8F;&#x662F;&#x5728;&#x54EA;&#x4E2A;&#x4F4D;&#x7F6E;&#x53D1;&#x751F;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3002;<code>by 0x401133: main (main.c:3)</code>&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x7A0B;&#x5E8F;&#x53D1;&#x751F;&#x4E86;&#x4E00;&#x6B21;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF0C;&#x4F4D;&#x7F6E;&#x662F;<code>main.c</code>&#x6587;&#x4EF6;&#x7684;&#x7B2C; 3 &#x884C;&#x3002;</p>
<p><code>LEAK SUMMARY</code>&#xFF0C;&#x5B83;&#x8868;&#x793A;&#x7A0B;&#x5E8F;<strong>&#x5185;&#x5B58;&#x6CC4;&#x9732;</strong>&#x7684;&#x60C5;&#x51B5;&#x3002;<code>definitely lost: 12 bytes in 1 blocks</code>&#x7A0B;&#x5E8F;&#x4E00;&#x5B9A;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#x3002;</p>
<p><strong>vector&#x4F1A;&#x5206;&#x914D;&#x989D;&#x5916;&#x7A7A;&#x95F4;</strong></p>
<p><code>new vector&lt;int&gt;(3)</code>&#x76F8;&#x6BD4;&#x6570;&#x7EC4;<code>new int[3]</code>&#x5360;&#x7528;&#x7684;&#x7A7A;&#x95F4;&#x66F4;&#x5927;&#xFF0C;&#x6765;&#x5904;&#x7406;&#x7406;vector&#x3002;</p>
<pre><code>#include &lt;vector&gt;
int main() {
    // int *iptr = new int[3]; //&#x672A;&#x91CA;&#x653E;
    auto vptr = new std::vector&lt;int&gt;(3); //&#x672A;&#x91CA;&#x653E;
    return 0;
}
</code></pre><pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
==11754== Memcheck, a memory error detector
==11754== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==11754== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==11754== Command: ./main
==11754== 
==11754== 
==11754== HEAP SUMMARY:
==11754==     in use at exit: 36 bytes in 2 blocks
==11754==   total heap usage: 3 allocs, 1 frees, 72,740 bytes allocated
==11754== 
==11754== 36 (24 direct, 12 indirect) bytes in 1 blocks are definitely lost in loss record 2 of 2
==11754==    at 0x4835DEF: operator new(unsigned long) (vg_replace_malloc.c:334)
==11754==    by 0x401186: main (main.cpp:4)
==11754== 
==11754== LEAK SUMMARY:
==11754==    definitely lost: 24 bytes in 1 blocks
==11754==    indirectly lost: 12 bytes in 1 blocks
==11754==      possibly lost: 0 bytes in 0 blocks
==11754==    still reachable: 0 bytes in 0 blocks
==11754==         suppressed: 0 bytes in 0 blocks
==11754== 
==11754== For counts of detected and suppressed errors, rerun with: -v
==11754== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
</code></pre><p><code>new vector&lt;*int*&gt;(3)</code>&#x5360;36&#x5B57;&#x8282;</p>
<pre><code>==11754== HEAP SUMMARY:
==11754==     in use at exit: 36 bytes in 2 blocks
==11754==   total heap usage: 3 allocs, 1 frees, 72,740 bytes allocated
==11754== 
==11754== 36 (24 direct, 12 indirect) bytes in 1 blocks are definitely lost in loss record 2 of 2
==11754==    at 0x4835DEF: operator new(unsigned long) (vg_replace_malloc.c:334)
</code></pre><p> <code>new int[3]</code>&#x5360;12&#x5B57;&#x8282;</p>
<pre><code>==11483== HEAP SUMMARY:
==11483==     in use at exit: 12 bytes in 1 blocks
==11483==   total heap usage: 2 allocs, 1 frees, 72,716 bytes allocated
==11483==
==11483== 12 bytes in 1 blocks are definitely lost in loss record 1 of 1
==11483==    at 0x483650F: operator new[](unsigned long) (vg_replace_malloc.c:423)
</code></pre><h4 id="&#x91CD;&#x590D;&#x91CA;&#x653E;&#x5185;&#x5B58;"><a name="&#x91CD;&#x590D;&#x91CA;&#x653E;&#x5185;&#x5B58;" class="anchor-navigation-ex-anchor" href="#&#x91CD;&#x590D;&#x91CA;&#x653E;&#x5185;&#x5B58;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x91CD;&#x590D;&#x91CA;&#x653E;&#x5185;&#x5B58;</h4>
<p>&#x7533;&#x8BF7;&#x4E86;&#x591A;&#x5C11;&#x5185;&#x5B58;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x5B8C;&#x6210;&#x540E;&#x5C31;&#x8981;&#x91CA;&#x653E;&#x591A;&#x5C11;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x91CA;&#x653E;&#xFF0C;&#x6216;&#x8005;&#x5C11;&#x91CA;&#x653E;&#x4E86;&#x5C31;&#x662F;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#xFF1B;&#x591A;&#x91CA;&#x653E;&#x4E86;&#x4E5F;&#x4F1A;&#x4EA7;&#x751F;&#x95EE;&#x9898;&#x3002;&#x5F53;&#x7533;&#x8BF7;&#x4E0E;&#x91CA;&#x653E;&#x5927;&#x5C0F;&#x4E0D;&#x4E00;&#x81F4;&#x65F6;&#xFF0C;&#x5373;&#x7533;&#x8BF7;&#x4E86;&#x591A;&#x5C11;&#x5185;&#x5B58;&#x5374;<strong>&#x6CA1;&#x6709;&#x91CA;&#x653E;&#x5B8C;</strong>&#x6216;&#x8005;<strong>&#x591A;&#x91CA;&#x653E;&#x4E86;</strong>&#xFF0C;</p>
<p>&#x663E;&#x793A;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<code>Invalid free() /delete/delete[]</code></p>
<p>&#x4E0A;&#x8FF0;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x6307;&#x9488;sm_ptr&#x548C;ptr&#x6307;&#x5411;&#x7684;&#x662F;&#x540C;&#x4E00;&#x5757;&#x5185;&#x5B58;&#xFF0C;&#x5374;&#x88AB;&#x5148;&#x540E;&#x91CA;&#x653E;&#x4E24;&#x6B21;&#x3002;</p>
<pre><code>#include &lt;iostream&gt;
int main() {
    int *ptr = new int; //&#x52A8;&#x6001;&#x5185;&#x5B58;
    delete ptr;
    int *sm_ptr = ptr;
    delete sm_ptr; //sm_ptr&#x548C;ptr&#x6307;&#x5411;&#x7684;&#x662F;&#x540C;&#x4E00;&#x5757;&#x5185;&#x5B58;,&#x91CD;&#x590D;&#x91CA;&#x653E;
    return 0;
}
</code></pre><p>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x52A0;&#x4E0A;<code>-g</code>,<code>O0</code>,<code>Wall</code>&#x9009;&#x9879;&#xFF1A;</p>
<pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x5206;&#x6790;&#x8FD9;&#x6BB5;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
</code></pre><pre><code>$ valgrind --tool=memcheck --leak-check=full ./main==8895== Memcheck, a memory error detector==8895== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==8895== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==8895== Command: ./main
==8895== 
==8895== Invalid free() / delete / delete[] / realloc()
==8895==    at 0x4836EAB: operator delete(void*) (vg_replace_malloc.c:576)
==8895==    by 0x401197: main (main.cpp:6)
==8895==  Address 0x4d8dc80 is 0 bytes inside a block of size 4 free&apos;d
==8895==    at 0x4836EAB: operator delete(void*) (vg_replace_malloc.c:576)
==8895==    by 0x401183: main (main.cpp:4)
==8895==  Block was alloc&apos;d at
==8895==    at 0x4835DEF: operator new(unsigned long) (vg_replace_malloc.c:334)
==8895==    by 0x401173: main (main.cpp:3)
==8895== 
==8895== 
==8895== HEAP SUMMARY:
==8895==     in use at exit: 0 bytes in 0 blocks
==8895==   total heap usage: 2 allocs, 3 frees, 72,708 bytes allocated
==8895== 
==8895== All heap blocks were freed -- no leaks are possible
==8895== 
==8895== For counts of detected and suppressed errors, rerun with: -v
==8895== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
</code></pre><h4 id="&#x5BF9;&#x91CA;&#x653E;&#x7684;&#x5185;&#x5B58;&#x8BFB;&#x5199;"><a name="&#x5BF9;&#x91CA;&#x653E;&#x7684;&#x5185;&#x5B58;&#x8BFB;&#x5199;" class="anchor-navigation-ex-anchor" href="#&#x5BF9;&#x91CA;&#x653E;&#x7684;&#x5185;&#x5B58;&#x8BFB;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BF9;&#x91CA;&#x653E;&#x7684;&#x5185;&#x5B58;&#x8BFB;/&#x5199;</h4>
<p>&#x672C;&#x8D28;&#x4E0A;&#x8BF4;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x5728;&#x5806;&#x4E0A;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x52A8;&#x6001;&#x5185;&#x5B58;&#x94FE;&#x8868;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x91CA;&#x653E;&#xFF0C;&#x5C31;&#x610F;&#x5473;&#x7740;&#x8BE5;&#x5757;&#x5185;&#x5B58;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x88AB;&#x5206;&#x914D;&#x7ED9;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#xFF0C;&#x5982;&#x679C;&#x5185;&#x5B58;&#x88AB;&#x91CA;&#x653E;&#x540E;&#x518D;&#x8BBF;&#x95EE;&#xFF0C;&#x5C31;&#x53EF;&#x80FD;&#x8986;&#x76D6;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x4E25;&#x91CD;&#x7684;&#x9519;&#x8BEF;&#x3002;</p>
<p>&#x9519;&#x8BEF;&#x663E;&#x793A;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<code>Invalid write of size 4</code></p>
<pre><code>#include &lt;iostream&gt;
int main() {
    int *iptr = new int; //&#x52A8;&#x6001;&#x5185;&#x5B58;
    delete iptr;
    *iptr = 9; // &#x91CA;&#x653E;&#x540E;&#x4ECD;&#x7136;&#x8BFB;&#x5199;
    return 0;
}
</code></pre><p>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x52A0;&#x4E0A;<code>-g</code>,<code>O0</code>,<code>Wall</code>&#x9009;&#x9879;&#xFF1A;</p>
<pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x5206;&#x6790;&#x8FD9;&#x6BB5;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
</code></pre><pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
==8246== Memcheck, a memory error detector
==8246== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==8246== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==8246== Command: ./main
==8246== 
==8246== Invalid write of size 4
==8246==    at 0x401188: main (main.cpp:5)
==8246==  Address 0x4d8dc80 is 0 bytes inside a block of size 4 free&apos;d
==8246==    at 0x4836EAB: operator delete(void*) (vg_replace_malloc.c:576)
==8246==    by 0x401183: main (main.cpp:4)
==8246==  Block was alloc&apos;d at
==8246==    at 0x4835DEF: operator new(unsigned long) (vg_replace_malloc.c:334)
==8246==    by 0x401173: main (main.cpp:3)
==8246== 
==8246== 
==8246== HEAP SUMMARY:
==8246==     in use at exit: 0 bytes in 0 blocks
==8246==   total heap usage: 2 allocs, 2 frees, 72,708 bytes allocated
==8246== 
==8246== All heap blocks were freed -- no leaks are possible
==8246== 
==8246== For counts of detected and suppressed errors, rerun with: -v
==8246== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
</code></pre><h4 id="new&#x548C;delete&#x4E0D;&#x5339;&#x914D;"><a name="new&#x548C;delete&#x4E0D;&#x5339;&#x914D;" class="anchor-navigation-ex-anchor" href="#new&#x548C;delete&#x4E0D;&#x5339;&#x914D;"><i class="fa fa-link" aria-hidden="true"></i></a>new&#x548C;delete&#x4E0D;&#x5339;&#x914D;</h4>
<p>&#x7531;&#x4E8E; C++ &#x517C;&#x5BB9; C&#xFF0C;&#x800C; C &#x4E0E; C++ &#x7684;&#x5185;&#x5B58;&#x7533;&#x8BF7;&#x548C;&#x91CA;&#x653E;&#x51FD;&#x6570;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5728; C++ &#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x5C31;&#x6709;&#x4E24;&#x5957;&#x52A8;&#x6001;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x51FD;&#x6570;&#x3002;&#x4E00;&#x6761;&#x4E0D;&#x53D8;&#x7684;&#x89C4;&#x5219;&#x5C31;&#x662F;&#x91C7;&#x7528; C &#x65B9;&#x5F0F;&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#x5C31;&#x7528; C &#x65B9;&#x5F0F;&#x91CA;&#x653E;&#xFF1B;&#x7528; C++ &#x65B9;&#x5F0F;&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x7528; C++ &#x65B9;&#x5F0F;&#x91CA;&#x653E;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x7528; malloc/alloc/realloc &#x65B9;&#x5F0F;&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x7528; free &#x91CA;&#x653E;&#xFF1B;&#x7528; new &#x65B9;&#x5F0F;&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#x7528; delete &#x91CA;&#x653E;&#x3002;</p>
<p>&#x5728;&#x4E0A;&#x8FF0;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x7528; malloc &#x65B9;&#x5F0F;&#x7533;&#x8BF7;&#x4E86;&#x5185;&#x5B58;&#x5374;&#x7528; delete &#x6765;&#x91CA;&#x653E;&#xFF0C;new&#x7533;&#x8BF7;&#x52A8;&#x6001;&#x6570;&#x7EC4;&#xFF0C;delete&#x65E0;&#x6CD5;&#x91CA;&#x653E;&#x6570;&#x7EC4;&#xFF0C;&#x865A;delete[]&#x91CA;&#x653E;&#x52A8;&#x6001;&#x6570;&#x7EC4;&#x3002;&#x7533;&#x8BF7;&#x4E0E;&#x91CA;&#x653E;&#x4E0D;&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x663E;&#x793A;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<code>Mismatched free() /delete/delete[]</code></p>
<pre><code>#include &lt;iostream&gt;
int main() {
    int *ptr = (int *)malloc(1 * sizeof(int)); //&#x52A8;&#x6001;&#x5185;&#x5B58;
    *ptr = -1;
    delete ptr; // malloc&#x4E0E;delete&#x4E0D;&#x5339;&#x914D;

    int *arr_ptr = new int[10];
    delete arr_ptr; // delete&#x65E0;&#x6CD5;&#x91CA;&#x653E;&#x6570;&#x7EC4;&#xFF0C;&#x4E0D;&#x5339;&#x914D;
    return 0;
}
</code></pre><p>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x52A0;&#x4E0A;<code>-g</code>,<code>O0</code>,<code>Wall</code>&#x9009;&#x9879;&#xFF1A;</p>
<pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x5206;&#x6790;&#x8FD9;&#x6BB5;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
</code></pre><pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
==11344== Memcheck, a memory error detector
==11344== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==11344== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==11344== Command: ./main
==11344== 
==11344== Mismatched free() / delete / delete []
==11344==    at 0x4836EAB: operator delete(void*) (vg_replace_malloc.c:576)
==11344==    by 0x40119D: main (main.cpp:5)
==11344==  Address 0x4d8dc80 is 0 bytes inside a block of size 4 alloc&apos;d
==11344==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==11344==    by 0x401183: main (main.cpp:3)
==11344== 
==11344== Mismatched free() / delete / delete []
==11344==    at 0x4836EAB: operator delete(void*) (vg_replace_malloc.c:576)
==11344==    by 0x4011B7: main (main.cpp:8)
==11344==  Address 0x4d8dcd0 is 0 bytes inside a block of size 40 alloc&apos;d
==11344==    at 0x483650F: operator new[](unsigned long) (vg_replace_malloc.c:423)
==11344==    by 0x4011A7: main (main.cpp:7)
==11344== 
==11344== 
==11344== HEAP SUMMARY:
==11344==     in use at exit: 0 bytes in 0 blocks
==11344==   total heap usage: 3 allocs, 3 frees, 72,748 bytes allocated
==11344== 
==11344== All heap blocks were freed -- no leaks are possible
==11344== 
==11344== For counts of detected and suppressed errors, rerun with: -v
==11344== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
</code></pre><h4 id="src&#x548C;dst&#x5185;&#x5B58;&#x8986;&#x76D6;"><a name="src&#x548C;dst&#x5185;&#x5B58;&#x8986;&#x76D6;" class="anchor-navigation-ex-anchor" href="#src&#x548C;dst&#x5185;&#x5B58;&#x8986;&#x76D6;"><i class="fa fa-link" aria-hidden="true"></i></a>src&#x548C;dst&#x5185;&#x5B58;&#x8986;&#x76D6;</h4>
<p>C&#x8BED;&#x8A00;&#x7684;&#x5F3A;&#x5927;&#x548C;&#x53EF;&#x6015;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x5176;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x5185;&#x5B58;&#xFF0C;C&#x6807;&#x51C6;&#x5E93;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x5927;&#x91CF;&#x8FD9;&#x6837;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#x4F7F;&#x7528;C&#x6807;&#x51C6;&#x5E93;&#x4E2D;&#x7684;strcpy&#xFF0C;strncpy&#xFF0C;memcpy&#xFF0C;strcat&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6E90;&#x5730;&#x5740;&#xFF08;src&#xFF09;&#x548C;&#x76EE;&#x6807;&#x5730;&#x5740;(dst)&#xFF0C;src&#x548C;dst&#x6240;&#x6307;&#x5411;&#x7684;&#x5730;&#x5740;&#x4E0D;&#x80FD;&#x53D1;&#x751F;&#x91CD;&#x53E0;&#xFF0C;&#x5426;&#x5219;&#x7ED3;&#x679C;&#x5C06;&#x4E0D;&#x53EF;&#x9884;&#x671F;&#x3002;</p>
<p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4F1A;&#x663E;&#x793A;&#xFF1A;<code>Source and destination overlap in strncpy</code>(dst&#x5730;&#x5740;&#xFF0C;src&#x5730;&#x5740;&#xFF0C;&#x5730;&#x5740;&#x76F8;&#x5DEE;&#x957F;&#x5EA6;)</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
int main(int argc, char *argv[]) {
    char str[128];
    memset(str, &apos;-1&apos;, sizeof(str)); // &#x5B57;&#x7B26;&apos;\0&apos;&#x5728;&#x5185;&#x5B58;&#x4E2D;assic&#x7801;&#x5C31;&#x662F;&#x6570;&#x503C;0
    strncpy(str + 20, str, 20); // Good
    strncpy(str + 20, str, 21); // Overlap&#xFF0C;&#x53D1;&#x751F;&#x8986;&#x76D6;

    memset(str, &apos;-1&apos;, sizeof(str));
    strncpy(str, str + 20, 20); // Good
    strncpy(str, str + 20, 21); // Overlap&#xFF0C;&#x53D1;&#x751F;&#x8986;&#x76D6;

    memset(str, &apos;-1&apos;, sizeof(str));
    str[39] = &apos;\0&apos;; // 29-39(&#x957F;&#x5EA6;20) &#x590D;&#x5236;&#x5230;-&gt; 0-19(&#x957F;&#x5EA6;20)
    strcpy(str, str + 20); // Good

    memset(str, &apos;-1&apos;, sizeof(str));
    str[40] = &apos;\0&apos;; // 29-40(&#x957F;&#x5EA6;21) &#x590D;&#x5236;&#x5230;-&gt; 0-19(&#x957F;&#x5EA6;20)&#xFF0C;&#x53D1;&#x751F;&#x8986;&#x76D6;
    strcpy(str, str + 20); // Overlap
    return 0;
}
</code></pre><p>&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x52A0;&#x4E0A;<code>-g</code>,<code>O0</code>,<code>Wall</code>&#x9009;&#x9879;&#xFF1A;</p>
<pre><code>$ g++ -std=c++11 -g -O0 -Wall main.cpp -o main
</code></pre><p>&#x4F7F;&#x7528; Valgrind &#x5206;&#x6790;&#x8FD9;&#x6BB5;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
</code></pre><pre><code>$ valgrind --tool=memcheck --leak-check=full ./main
==21189== Memcheck, a memory error detector
==21189== Copyright (C) 2002-2017, and GNU GPL&apos;d, by Julian Seward et al.
==21189== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==21189== Command: ./main
==21189== 
==21189== Source and destination overlap in strncpy(0x1ffeffe829, 0x1ffeffe815, 21)
==21189==    at 0x48393E0: __strncpy_sse2_unaligned (vg_replace_strmem.c:554)
==21189==    by 0x4011A7: main (main.cpp:8)
==21189== 
==21189== Source and destination overlap in strncpy(0x1ffeffe815, 0x1ffeffe829, 21)
==21189==    at 0x48393E0: __strncpy_sse2_unaligned (vg_replace_strmem.c:554)
==21189==    by 0x4011F5: main (main.cpp:12)
==21189== 
==21189== Source and destination overlap in strcpy(0x1ffeffe800, 0x1ffeffe814)
==21189==    at 0x4838E68: strcpy (vg_replace_strmem.c:512)
==21189==    by 0x401257: main (main.cpp:20)
==21189== 
==21189== 
==21189== HEAP SUMMARY:
==21189==     in use at exit: 0 bytes in 0 blocks
==21189==   total heap usage: 1 allocs, 1 frees, 72,704 bytes allocated
==21189== 
==21189== All heap blocks were freed -- no leaks are possible
==21189== 
==21189== For counts of detected and suppressed errors, rerun with: -v
==21189== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 0 from 0)
</code></pre><p>&#x8F93;&#x51FA;&#x8BF4;&#x660E;&#x7A0B;&#x5E8F;&#x7684;8&#xFF0C;12&#xFF0C;20&#x884C;&#xFF0C;&#x6E90;&#x5730;&#x5740;&#x548C;&#x76EE;&#x6807;&#x5730;&#x5740;&#x8BBE;&#x7F6E;&#x51FA;&#x73B0;&#x4E86;&#x91CD;&#x53E0;&#xFF0C;Valgrind&#x5747;&#x51C6;&#x786E;&#x5730;&#x53D1;&#x73B0;&#x4E86;&#x95EE;&#x9898;&#x3002;</p>
<h3 id="&#x53C2;&#x6570;&#x9009;&#x9879;"><a name="&#x53C2;&#x6570;&#x9009;&#x9879;" class="anchor-navigation-ex-anchor" href="#&#x53C2;&#x6570;&#x9009;&#x9879;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53C2;&#x6570;&#x9009;&#x9879;</h3>
<p>&#x6CE8;&#xFF1A;&#x53C2;&#x6570;&#x9009;&#x9879;&#x4E3A;&#x6458;&#x6284;&#xFF0C;&#x6CA1;&#x6709;&#x9A8C;&#x8BC1;</p>
<h4 id="&#x57FA;&#x672C;&#x9009;&#x9879;&#xFF1A;"><a name="&#x57FA;&#x672C;&#x9009;&#x9879;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x57FA;&#x672C;&#x9009;&#x9879;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x57FA;&#x672C;&#x9009;&#x9879;&#xFF1A;</h4>
<p>&#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x5BF9;&#x6240;&#x6709;&#x5DE5;&#x5177;&#x90FD;&#x6709;&#x6548;&#x3002;</p>
<p>-h --help
&#x663E;&#x793A;&#x6240;&#x6709;&#x9009;&#x9879;&#x7684;&#x5E2E;&#x52A9;&#xFF0C;&#x5305;&#x62EC;&#x5185;&#x6838;&#x548C;&#x9009;&#x5B9A;&#x7684;&#x5DE5;&#x5177;&#x4E24;&#x8005;&#x3002;</p>
<p>--help-debug
&#x548C;--help&#x76F8;&#x540C;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x80FD;&#x663E;&#x793A;&#x901A;&#x5E38;&#x53EA;&#x6709;Valgrind&#x7684;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x4F7F;&#x7528;&#x7684;&#x8C03;&#x8BD5;&#x9009;&#x9879;&#x3002;</p>
<p>--version
&#x663E;&#x793A;Valgrind&#x5185;&#x6838;&#x7684;&#x7248;&#x672C;&#x53F7;&#x3002;&#x5DE5;&#x5177;&#x53EF;&#x4EE5;&#x6709;&#x4ED6;&#x4EEC;&#x81EA;&#x5DF2;&#x7684;&#x7248;&#x672C;&#x53F7;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x4FDD;&#x8BC1;&#x5DE5;&#x5177;&#x53EA;&#x5728;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x7684;&#x5185;&#x6838;&#x4E0A;&#x5DE5;&#x4F5C;&#x7684;&#x4E00;&#x79CD;&#x8BBE;&#x7F6E;&#x3002;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x5728;&#x5DE5;&#x5177;&#x548C;&#x5185;&#x6838;&#x4E4B;&#x95F4;&#x7248;&#x672C;&#x517C;&#x5BB9;&#x6027;&#x5BFC;&#x81F4;&#x5947;&#x602A;&#x95EE;&#x9898;&#x7684;&#x6982;&#x7387;&#x3002;</p>
<p>-q --quiet
&#x5B89;&#x9759;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x53EA;&#x6253;&#x5370;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x5728;&#x8FDB;&#x884C;&#x56DE;&#x5F52;&#x6D4B;&#x8BD5;&#x6216;&#x8005;&#x6709;&#x5176;&#x5B83;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5;&#x673A;&#x5236;&#x65F6;&#x4F1A;&#x975E;&#x5E38;&#x6709;&#x7528;&#x3002;</p>
<p>-v --verbose
&#x663E;&#x793A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;&#x5728;&#x5404;&#x4E2A;&#x65B9;&#x9762;&#x663E;&#x793A;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x989D;&#x5916;&#x4FE1;&#x606F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x5171;&#x4EAB;&#x5BF9;&#x8C61;&#x52A0;&#x8F7D;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x91CD;&#x7F6E;&#xFF0C;&#x6267;&#x884C;&#x5F15;&#x64CE;&#x548C;&#x5DE5;&#x5177;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5F02;&#x5E38;&#x884C;&#x4E3A;&#x7684;&#x8B66;&#x544A;&#x4FE1;&#x606F;&#x3002;&#x91CD;&#x590D;&#x8FD9;&#x4E2A;&#x6807;&#x8BB0;&#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x8BE6;&#x7EC6;&#x7684;&#x7EA7;&#x522B;&#x3002;</p>
<p>-d
&#x8C03;&#x8BD5;Valgrind&#x81EA;&#x8EAB;&#x53D1;&#x51FA;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x901A;&#x5E38;&#x53EA;&#x6709;Valgrind&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5BF9;&#x6B64;&#x611F;&#x5174;&#x8DA3;&#x3002;&#x91CD;&#x590D;&#x8FD9;&#x4E2A;&#x6807;&#x8BB0;&#x53EF;&#x4EE5;&#x4EA7;&#x751F;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x8F93;&#x51FA;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5E0C;&#x671B;&#x53D1;&#x9001;&#x4E00;&#x4E2A;bug&#x62A5;&#x544A;&#xFF0C;&#x901A;&#x8FC7;-v -v -d -d&#x751F;&#x6210;&#x7684;&#x8F93;&#x51FA;&#x4F1A;&#x4F7F;&#x4F60;&#x7684;&#x62A5;&#x544A;&#x66F4;&#x52A0;&#x6709;&#x6548;&#x3002;</p>
<p>--tool=<toolname> [default: memcheck]
&#x8FD0;&#x884C;toolname&#x6307;&#x5B9A;&#x7684;Valgrind&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;Memcheck, Addrcheck, Cachegrind,&#x7B49;&#x7B49;&#x3002;</toolname></p>
<p>--trace-children=<yes|no> [default: no]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;Valgrind&#x4F1A;&#x8DDF;&#x8E2A;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x3002;&#x8FD9;&#x7ECF;&#x5E38;&#x4F1A;&#x5BFC;&#x81F4;&#x56F0;&#x60D1;&#xFF0C;&#x800C;&#x4E14;&#x901A;&#x5E38;&#x4E0D;&#x662F;&#x4F60;&#x6240;&#x671F;&#x671B;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x9ED8;&#x8BA4;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x662F;&#x5173;&#x95ED;&#x7684;&#x3002;</yes|no></p>
<p>--track-fds=<yes|no> [default: no]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;Valgrind&#x4F1A;&#x5728;&#x9000;&#x51FA;&#x65F6;&#x6253;&#x5370;&#x4E00;&#x4E2A;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x5217;&#x8868;&#x3002;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x90FD;&#x4F1A;&#x6253;&#x5370;&#x51FA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x662F;&#x5728;&#x54EA;&#x91CC;&#x6253;&#x5F00;&#x7684;&#x6808;&#x56DE;&#x6EAF;&#xFF0C;&#x548C;&#x4EFB;&#x4F55;&#x4E0E;&#x6B64;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x76F8;&#x5173;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x6BD4;&#x5982;&#x6587;&#x4EF6;&#x540D;&#x6216;socket&#x4FE1;&#x606F;&#x3002;</yes|no></p>
<p>--time-stamp=<yes|no> [default: no]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x6BCF;&#x6761;&#x4FE1;&#x606F;&#x4E4B;&#x524D;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x4ECE;&#x7A0B;&#x5E8F;&#x5F00;&#x59CB;&#x6D88;&#x901D;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x7528;&#x5929;&#xFF0C;&#x5C0F;&#x65F6;&#xFF0C;&#x5206;&#x949F;&#xFF0C;&#x79D2;&#x548C;&#x6BEB;&#x79D2;&#x8868;&#x793A;&#x3002;</yes|no></p>
<p>--log-fd=<number> [default: 2, stderr]
&#x6307;&#x5B9A;Valgrind&#x628A;&#x5B83;&#x6240;&#x6709;&#x7684;&#x6D88;&#x606F;&#x90FD;&#x8F93;&#x51FA;&#x5230;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x4E2D;&#x53BB;&#x3002;&#x9ED8;&#x8BA4;&#x503C;2, &#x662F;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x8F93;&#x51FA;(stderr)&#x3002;&#x6CE8;&#x610F;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x5E72;&#x6270;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x81EA;&#x8EAB;&#x5BF9;stderr&#x7684;&#x4F7F;&#x7528;, Valgrind&#x7684;&#x8F93;&#x51FA;&#x4E0E;&#x5BA2;&#x6237;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x5C06;&#x7A7F;&#x63D2;&#x5728;&#x4E00;&#x8D77;&#x8F93;&#x51FA;&#x5230;stderr&#x3002;</number></p>
<p>--log-file=<filename>
&#x6307;&#x5B9A;Valgrind&#x628A;&#x5B83;&#x6240;&#x6709;&#x7684;&#x4FE1;&#x606F;&#x8F93;&#x51FA;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x88AB;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x662F;&#x7531;filename&#x3001;&apos;.&apos;&#x548C;&#x8FDB;&#x7A0B;&#x53F7;&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#x7684;&#xFF08;&#x5373;<filename>.<pid>&#xFF09;&#xFF0C;&#x4ECE;&#x800C;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x521B;&#x5EFA;&#x4E0D;&#x540C;&#x7684;&#x6587;&#x4EF6;&#x3002;</pid></filename></filename></p>
<p>--log-file-exactly=<filename>
&#x7C7B;&#x4F3C;&#x4E8E;--log-file&#xFF0C;&#x4F46;&#x662F;&#x540E;&#x7F00;&quot;.pid&quot;&#x4E0D;&#x4F1A;&#x88AB;&#x6DFB;&#x52A0;&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#xFF0C;&#x4F7F;&#x7528;Valgrind&#x8DDF;&#x8E2A;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x4E71;&#x4E03;&#x516B;&#x7CDF;&#x7684;&#x6587;&#x4EF6;&#x3002;</filename></p>
<p>--log-file-qualifier=<var>
&#x5F53;&#x548C;--log-file&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x540D;&#x5C06;&#x901A;&#x8FC7;&#x73AF;&#x5883;&#x53D8;&#x91CF;$VAR&#x6765;&#x7B5B;&#x9009;&#x3002;&#x8FD9;&#x5BF9;&#x4E8E;MPI&#x7A0B;&#x5E8F;&#x662F;&#x6709;&#x76CA;&#x7684;&#x3002;&#x66F4;&#x591A;&#x7684;&#x7EC6;&#x8282;&#xFF0C;&#x67E5;&#x770B;&#x624B;&#x518C;2.3&#x8282; &quot;&#x6CE8;&#x89E3;&quot;&#x3002;</var></p>
<p>--log-socket=<ip-address:port-number>
&#x6307;&#x5B9A;Valgrind&#x8F93;&#x51FA;&#x6240;&#x6709;&#x7684;&#x6D88;&#x606F;&#x5230;&#x6307;&#x5B9A;&#x7684;IP&#xFF0C;&#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x3002;&#x5F53;&#x4F7F;&#x7528;1500&#x7AEF;&#x53E3;&#x65F6;&#xFF0C;&#x7AEF;&#x53E3;&#x6709;&#x53EF;&#x80FD;&#x88AB;&#x5FFD;&#x7565;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x80FD;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x5230;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;Valgrind&#x5C06;&#x8F93;&#x51FA;&#x5199;&#x5230;&#x6807;&#x51C6;&#x9519;&#x8BEF;(stderr)&#x3002;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x7ECF;&#x5E38;&#x548C;&#x4E00;&#x4E2A;Valgrind&#x76D1;&#x542C;&#x7A0B;&#x5E8F;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;&#x66F4;&#x591A;&#x7684;&#x7EC6;&#x8282;&#xFF0C;&#x67E5;&#x770B;&#x624B;&#x518C;2.3&#x8282; &quot;&#x6CE8;&#x89E3;&quot;&#x3002;</ip-address:port-number></p>
<h4 id="&#x9519;&#x8BEF;&#x76F8;&#x5173;&#x9009;&#x9879;&#xFF1A;"><a name="&#x9519;&#x8BEF;&#x76F8;&#x5173;&#x9009;&#x9879;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x9519;&#x8BEF;&#x76F8;&#x5173;&#x9009;&#x9879;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x9519;&#x8BEF;&#x76F8;&#x5173;&#x9009;&#x9879;&#xFF1A;</h4>
<p>&#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x9002;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x6BD4;&#x5982;Memcheck, &#x4F46;&#x662F;Cachegrind&#x4E0D;&#x884C;&#x3002;</p>
<p>--xml=<yes|no> [default: no]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x8F93;&#x51FA;&#x5C06;&#x662F;XML&#x683C;&#x5F0F;&#x3002;&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x4F7F;&#x7528;Valgrind&#x7684;&#x8F93;&#x51FA;&#x505A;&#x4E3A;&#x8F93;&#x5165;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x4F8B;&#x5982;GUI&#x524D;&#x7AEF;&#x66F4;&#x52A0;&#x5BB9;&#x6613;&#x4E9B;&#x3002;&#x76EE;&#x524D;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x53EA;&#x5728;Memcheck&#x65F6;&#x751F;&#x6548;&#x3002;</yes|no></p>
<p>--xml-user-comment=<string>
&#x5728;XML&#x5F00;&#x5934; &#x9644;&#x52A0;&#x7528;&#x6237;&#x6CE8;&#x91CA;&#xFF0C;&#x4EC5;&#x5728;&#x6307;&#x5B9A;&#x4E86;--xml=yes&#x65F6;&#x751F;&#x6548;&#xFF0C;&#x5426;&#x5219;&#x5FFD;&#x7565;&#x3002;</string></p>
<p>--demangle=<yes|no> [default: yes]
&#x6253;&#x5F00;/&#x5173;&#x95ED;C++&#x7684;&#x540D;&#x5B57;&#x81EA;&#x52A8;&#x89E3;&#x7801;&#x3002;&#x9ED8;&#x8BA4;&#x6253;&#x5F00;&#x3002;&#x5F53;&#x6253;&#x5F00;&#x65F6;&#xFF0C;Valgrind&#x5C06;&#x5C1D;&#x8BD5;&#x7740;&#x628A;&#x7F16;&#x7801;&#x8FC7;&#x7684;C++&#x540D;&#x5B57;&#x81EA;&#x52A8;&#x8F6C;&#x56DE;&#x521D;&#x59CB;&#x72B6;&#x6001;&#x3002;&#x8FD9;&#x4E2A;&#x89E3;&#x7801;&#x5668;&#x53EF;&#x4EE5;&#x5904;&#x7406;g++&#x7248;&#x672C;&#x4E3A;2.X,3.X&#x6216;4.X&#x751F;&#x6210;&#x7684;&#x7B26;&#x53F7;&#x3002;&#x4E00;&#x4E2A;&#x5173;&#x4E8E;&#x540D;&#x5B57;&#x7F16;&#x7801;&#x89E3;&#x7801;&#x91CD;&#x8981;&#x7684;&#x4E8B;&#x5B9E;&#x662F;&#xFF0C;&#x7981;&#x6B62;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x89E3;&#x7801;&#x51FD;&#x6570;&#x540D;&#x4ECD;&#x7136;&#x4F7F;&#x7528;&#x4ED6;&#x4EEC;&#x672A;&#x89E3;&#x7801;&#x7684;&#x5F62;&#x5F0F;&#x3002;Valgrind&#x5728;&#x641C;&#x5BFB;&#x53EF;&#x7528;&#x7684;&#x7981;&#x6B62;&#x6761;&#x76EE;&#x65F6;&#x4E0D;&#x5BF9;&#x51FD;&#x6570;&#x540D;&#x89E3;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x5C06;&#x4F7F;&#x7981;&#x6B62;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x4F9D;&#x8D56;&#x4E8E;Valgrind&#x7684;&#x540D;&#x5B57;&#x89E3;&#x7801;&#x673A;&#x5236;&#x72B6;&#x6001;&#xFF0C;&#x4F1A;&#x4F7F;&#x901F;&#x5EA6;&#x53D8;&#x6162;&#xFF0C;&#x4E14;&#x65E0;&#x610F;&#x4E49;&#x3002;</yes|no></p>
<p>--num-callers=<number> [default: 12]
&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Valgrind&#x663E;&#x793A;12&#x5C42;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#x540D;&#x6709;&#x52A9;&#x4E8E;&#x786E;&#x5B9A;&#x7A0B;&#x5E8F;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6765;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x3002;&#x8FD9;&#x6837;&#x6709;&#x52A9;&#x5728;&#x5D4C;&#x5957;&#x8C03;&#x7528;&#x7684;&#x5C42;&#x6B21;&#x5F88;&#x6DF1;&#x65F6;&#x786E;&#x5B9A;&#x7A0B;&#x5E8F;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x6CE8;&#x610F;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x901A;&#x5E38;&#x53EA;&#x56DE;&#x6EAF;&#x5230;&#x6700;&#x9876;&#x4E0A;&#x7684;4&#x4E2A;&#x51FD;&#x6570;&#x3002;(&#x5F53;&#x524D;&#x51FD;&#x6570;&#xFF0C;&#x548C;&#x5B83;&#x7684;3&#x4E2A;&#x8C03;&#x7528;&#x8005;&#x7684;&#x4F4D;&#x7F6E;)&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x5E76;&#x4E0D;&#x5F71;&#x54CD;&#x62A5;&#x544A;&#x7684;&#x9519;&#x8BEF;&#x603B;&#x6570;&#x3002;&#x8FD9;&#x4E2A;&#x503C;&#x7684;&#x6700;&#x5927;&#x503C;&#x662F;50&#x3002;&#x6CE8;&#x610F;&#x9AD8;&#x7684;&#x8BBE;&#x7F6E;&#x4F1A;&#x4F7F;Valgrind&#x8FD0;&#x884C;&#x5F97;&#x6162;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5B58;,&#x4F46;&#x662F;&#x5728;&#x5D4C;&#x5957;&#x8C03;&#x7528;&#x5C42;&#x6B21;&#x6BD4;&#x8F83;&#x9AD8;&#x7684;&#x7A0B;&#x5E8F;&#x4E2D;&#x975E;&#x5E38;&#x5B9E;&#x7528;&#x3002;</number></p>
<p>--error-limit=<yes|no> [default: yes]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x5728;&#x603B;&#x91CF;&#x8FBE;&#x5230;10,000,000&#xFF0C;&#x6216;&#x8005;1,000&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x9519;&#x8BEF;&#xFF0C;Valgrind&#x505C;&#x6B62;&#x62A5;&#x544A;&#x9519;&#x8BEF;&#x3002;&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x9519;&#x8BEF;&#x8DDF;&#x8E2A;&#x673A;&#x5236;&#x5728;&#x9519;&#x8BEF;&#x5F88;&#x591A;&#x7684;&#x7A0B;&#x5E8F;&#x4E0B;&#x53D8;&#x6210;&#x4E00;&#x4E2A;&#x5DE8;&#x5927;&#x7684;&#x6027;&#x80FD;&#x8D1F;&#x62C5;&#x3002;</yes|no></p>
<p>--error-exitcode=<number> [default: 0]
&#x6307;&#x5B9A;&#x5982;&#x679C;Valgrind&#x5728;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x62A5;&#x544A;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#x65F6;&#x7684;&#x9000;&#x51FA;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x6709;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF1B;&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;&#x9ED8;&#x8BA4;&#x503C;(&#x96F6;)&#x65F6;&#xFF0C;Valgrind&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x5C06;&#x662F;&#x5B83;&#x6A21;&#x62DF;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;&#x975E;&#x96F6;&#x503C;&#x65F6;&#xFF0C;&#x5982;&#x679C;Valgrind&#x53D1;&#x73B0;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#x65F6;&#x5219;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x503C;&#x3002;&#x5728;Valgrind&#x505A;&#x4E3A;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#x5957;&#x4EF6;&#x7684;&#x90E8;&#x5206;&#x4F7F;&#x7528;&#x65F6;&#x8FD9;&#x5C06;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x4F7F;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#x5957;&#x4EF6;&#x53EA;&#x68C0;&#x67E5;Valgrind&#x8FD4;&#x56DE;&#x503C;&#x5C31;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x54EA;&#x4E9B;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;Valgrind&#x62A5;&#x544A;&#x4E86;&#x9519;&#x8BEF;&#x3002;</number></p>
<p>--show-below-main=<yes|no> [default: no]
&#x9ED8;&#x8BA4;&#x5730;&#xFF0C;&#x9519;&#x8BEF;&#x65F6;&#x7684;&#x6808;&#x56DE;&#x6EAF;&#x4E0D;&#x663E;&#x793A;main()&#x4E4B;&#x4E0B;&#x7684;&#x4EFB;&#x4F55;&#x51FD;&#x6570;(&#x6216;&#x8005;&#x7C7B;&#x4F3C;&#x7684;&#x51FD;&#x6570;&#x50CF;glibc&#x7684;__libc_start_main()&#xFF0C;&#x5982;&#x679C;main()&#x6CA1;&#x6709;&#x51FA;&#x73B0;&#x5728;&#x6808;&#x56DE;&#x6EAF;&#x4E2D;)&#xFF1B;&#x8FD9;&#x4E9B;&#x5927;&#x90E8;&#x5206;&#x90FD;&#x662F;&#x4EE4;&#x4EBA;&#x538C;&#x5026;&#x7684;C&#x5E93;&#x51FD;&#x6570;&#x3002;&#x5982;&#x679C;&#x6253;&#x5F00;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#xFF0C;&#x5728;main()&#x4E4B;&#x4E0B;&#x7684;&#x51FD;&#x6570;&#x4E5F;&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x3002;</yes|no></p>
<p>--suppressions=<filename> [default: $PREFIX/lib/valgrind/default.supp]
&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x7684;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;&#x4E0D;&#x9700;&#x8981;&#x7406;&#x4F1A;&#x7684;&#x9519;&#x8BEF;&#xFF1B;&#x4F60;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x591A;&#x7684;&#x989D;&#x5916;&#x6587;&#x4EF6;&#x3002;</filename></p>
<p>--gen-suppressions=<yes|no|all> [default: no]
&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;yes&#x65F6;&#xFF0C;Valgrind&#x5C06;&#x4F1A;&#x5728;&#x6BCF;&#x4E2A;&#x9519;&#x8BEF;&#x663E;&#x793A;&#x4E4B;&#x540E;&#x81EA;&#x52A8;&#x6682;&#x505C;&#x5E76;&#x4E14;&#x6253;&#x5370;&#x4E0B;&#x9762;&#x8FD9;&#x4E00;&#x884C;&#xFF1A;---- Print suppression ? --- [Return/N/n/Y/y/C/c] ----&#x8FD9;&#x4E2A;&#x63D0;&#x793A;&#x7684;&#x884C;&#x4E3A;&#x548C;--db-attach&#x9009;&#x9879;(&#x89C1;&#x4E0B;&#x9762;)&#x76F8;&#x540C;&#x3002;&#x5982;&#x679C;&#x9009;&#x62E9;&#x662F;&#xFF0C;Valgrind&#x4F1A;&#x6253;&#x5370;&#x51FA;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x7684;&#x7981;&#x6B62;&#x6761;&#x76EE;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x526A;&#x5207;&#x7136;&#x540E;&#x7C98;&#x5E16;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5E0C;&#x671B;&#x5728;&#x5C06;&#x6765;&#x518D;&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;all&#x65F6;&#xFF0C;Valgrind&#x4F1A;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x6253;&#x5370;&#x4E00;&#x6761;&#x7981;&#x6B62;&#x6761;&#x76EE;&#xFF0C;&#x800C;&#x4E0D;&#x5411;&#x7528;&#x6237;&#x8BE2;&#x95EE;&#x3002;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5BF9;C++&#x7A0B;&#x5E8F;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x5B83;&#x6253;&#x5370;&#x51FA;&#x7F16;&#x8BD1;&#x5668;&#x8C03;&#x6574;&#x8FC7;&#x7684;&#x540D;&#x5B57;&#x3002;&#x6CE8;&#x610F;&#x6253;&#x5370;&#x51FA;&#x6765;&#x7684;&#x7981;&#x6B62;&#x6761;&#x76EE;&#x662F;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x7279;&#x5B9A;&#x7684;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x628A;&#x7C7B;&#x4F3C;&#x7684;&#x6761;&#x76EE;&#x5F52;&#x7EB3;&#x8D77;&#x6765;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x51FD;&#x6570;&#x540D;&#x4E2D;&#x6DFB;&#x52A0;&#x901A;&#x914D;&#x7B26;&#x3002;&#x5E76;&#x4E14;&#xFF0C;&#x6709;&#x4E9B;&#x65F6;&#x5019;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x9519;&#x8BEF;&#x4E5F;&#x4F1A;&#x4EA7;&#x751F;&#x540C;&#x6837;&#x7684;&#x7981;&#x6B62;&#x6761;&#x76EE;&#xFF0C;&#x8FD9;&#x65F6;Valgrind&#x5C31;&#x4F1A;&#x8F93;&#x51FA;&#x7981;&#x6B62;&#x6761;&#x76EE;&#x4E0D;&#x6B62;&#x4E00;&#x6B21;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x7981;&#x6B62;&#x6761;&#x76EE;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x4EFD;&#x62F7;&#x8D1D;(&#x4F46;&#x662F;&#x5982;&#x679C;&#x591A;&#x4E8E;&#x4E00;&#x4EFD;&#x4E5F;&#x4E0D;&#x4F1A;&#x5F15;&#x8D77;&#x4EC0;&#x4E48;&#x95EE;&#x9898;)&#x3002;&#x5E76;&#x4E14;&#xFF0C;&#x7981;&#x6B62;&#x6761;&#x76EE;&#x7684;&#x540D;&#x5B57;&#x50CF;&lt;&#x5728;&#x8FD9;&#x513F;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x7981;&#x6B62;&#x6761;&#x76EE;&#x7684;&#x540D;&#x5B57;&gt;;&#x540D;&#x5B57;&#x5E76;&#x4E0D;&#x662F;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x548C;-v&#x9009;&#x9879;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x6253;&#x5370;&#x51FA;&#x6240;&#x6709;&#x4F7F;&#x7528;&#x7684;&#x7981;&#x6B62;&#x6761;&#x76EE;&#x8BB0;&#x5F55;&#x3002;</yes|no|all></p>
<p>--db-attach=<yes|no> [default: no]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;Valgrind&#x5C06;&#x4F1A;&#x5728;&#x6BCF;&#x6B21;&#x6253;&#x5370;&#x9519;&#x8BEF;&#x65F6;&#x6682;&#x505C;&#x5E76;&#x6253;&#x51FA;&#x5982;&#x4E0B;&#x4E00;&#x884C;&#xFF1A;---- Attach to debugger ? --- [Return/N/n/Y/y/C/c] ---- &#x6309;&#x4E0B;&#x56DE;&#x8F66;,&#x6216;&#x8005;N&#x3001;&#x56DE;&#x8F66;&#xFF0C;n&#x3001;&#x56DE;&#x8F66;&#xFF0C;Valgrind&#x4E0D;&#x4F1A;&#x5BF9;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x542F;&#x52A8;&#x8C03;&#x8BD5;&#x5668;&#x3002;&#x6309;&#x4E0B;Y&#x3001;&#x56DE;&#x8F66;&#xFF0C;&#x6216;&#x8005;y&#x3001;&#x56DE;&#x8F66;&#xFF0C;Valgrind&#x4F1A;&#x542F;&#x52A8;&#x8C03;&#x8BD5;&#x5668;&#x5E76;&#x8BBE;&#x5B9A;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x7684;&#x8FD9;&#x4E2A;&#x70B9;&#x3002;&#x5F53;&#x8C03;&#x8BD5;&#x7ED3;&#x675F;&#x65F6;&#xFF0C;&#x9000;&#x51FA;&#xFF0C;&#x7A0B;&#x5E8F;&#x4F1A;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x3002;&#x5728;&#x8C03;&#x8BD5;&#x5668;&#x5185;&#x90E8;&#x5C1D;&#x8BD5;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#xFF0C;&#x5C06;&#x4E0D;&#x4F1A;&#x751F;&#x6548;&#x3002;&#x6309;&#x4E0B;C&#x3001;&#x56DE;&#x8F66;&#xFF0C;&#x6216;&#x8005;c&#x3001;&#x56DE;&#x8F66;&#xFF0C;Valgrind&#x4E0D;&#x4F1A;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x8C03;&#x8BD5;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x518D;&#x6B21;&#x8BE2;&#x95EE;&#x3002;&#x6CE8;&#x610F;&#xFF1A;--db-attach=yes&#x4E0E;--trace-children=yes&#x6709;&#x51B2;&#x7A81;&#x3002;&#x4F60;&#x4E0D;&#x80FD;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x3002;Valgrind&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x80FD;&#x542F;&#x52A8;&#x3002;</yes|no></p>
<p>--db-command=<command> [default: gdb -nw %f %p]
&#x901A;&#x8FC7;--db-attach&#x6307;&#x5B9A;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x8C03;&#x8BD5;&#x5668;&#x3002;&#x9ED8;&#x8BA4;&#x7684;&#x8C03;&#x8BD5;&#x5668;&#x662F;gdb.&#x9ED8;&#x8BA4;&#x7684;&#x9009;&#x9879;&#x662F;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x65F6;&#x6269;&#x5C55;Valgrind&#x7684;&#x6A21;&#x677F;&#x3002; %f&#x4F1A;&#x7528;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x66FF;&#x6362;&#xFF0C;%p&#x4F1A;&#x88AB;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x8FDB;&#x7A0B;ID&#x66FF;&#x6362;&#x3002;
&#x8FD9;&#x6307;&#x5B9A;&#x4E86;Valgrind&#x5C06;&#x600E;&#x6837;&#x8C03;&#x7528;&#x8C03;&#x8BD5;&#x5668;&#x3002;&#x9ED8;&#x8BA4;&#x9009;&#x9879;&#x4E0D;&#x4F1A;&#x56E0;&#x4E3A;&#x5728;&#x6784;&#x9020;&#x65F6;&#x662F;&#x5426;&#x68C0;&#x6D4B;&#x5230;&#x4E86;GDB&#x800C;&#x6539;&#x53D8;,&#x901A;&#x5E38;&#x662F;/usr/bin/gdb.&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E00;&#x4E9B;&#x8C03;&#x7528;&#x5176;&#x5B83;&#x7684;&#x8C03;&#x8BD5;&#x5668;&#x6765;&#x66FF;&#x6362;&#x3002;
&#x7ED9;&#x51FA;&#x7684;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x5B57;&#x4E32;&#x53EF;&#x4EE5;&#x5305;&#x62EC;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;%p %f&#x6269;&#x5C55;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;%p&#x5B9E;&#x4F8B;&#x90FD;&#x88AB;&#x89E3;&#x91CA;&#x6210;&#x5C06;&#x8C03;&#x8BD5;&#x7684;&#x8FDB;&#x7A0B;&#x7684;PID&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;%f&#x5B9E;&#x4F8B;&#x90FD;&#x88AB;&#x89E3;&#x91CA;&#x6210;&#x8981;&#x8C03;&#x8BD5;&#x7684;&#x8FDB;&#x7A0B;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x3002;</p>
<p>--input-fd=<number> [default: 0, stdin]
&#x4F7F;&#x7528;--db-attach=yes&#x548C;--gen-suppressions=yes&#x9009;&#x9879;&#xFF0C;&#x5728;&#x53D1;&#x73B0;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;Valgrind&#x4F1A;&#x505C;&#x4E0B;&#x6765;&#x53BB;&#x8BFB;&#x53D6;&#x952E;&#x76D8;&#x8F93;&#x5165;&#x3002;&#x9ED8;&#x8BA4;&#x5730;&#xFF0C;&#x4ECE;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8BFB;&#x53D6;&#xFF0C;&#x6240;&#x4EE5;&#x5173;&#x95ED;&#x4E86;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x7684;&#x7A0B;&#x5E8F;&#x4F1A;&#x6709;&#x95EE;&#x9898;&#x3002;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5141;&#x8BB8;&#x4F60;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x6765;&#x66FF;&#x4EE3;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8BFB;&#x53D6;&#x3002;</number></p>
<p>--max-stackframe=<number> [default: 2000000]
&#x6808;&#x7684;&#x6700;&#x5927;&#x503C;&#x3002;&#x5982;&#x679C;&#x6808;&#x6307;&#x9488;&#x7684;&#x504F;&#x79FB;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x6570;&#x91CF;&#xFF0C;Valgrind&#x5219;&#x4F1A;&#x8BA4;&#x4E3A;&#x7A0B;&#x5E8F;&#x662F;&#x5207;&#x6362;&#x5230;&#x4E86;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6808;&#x6267;&#x884C;&#x3002;&#x5982;&#x679C;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x6709;&#x5927;&#x91CF;&#x7684;&#x6808;&#x5206;&#x914D;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x3002;valgrind&#x4FDD;&#x6301;&#x5BF9;&#x7A0B;&#x5E8F;&#x6808;&#x6307;&#x9488;&#x7684;&#x8FFD;&#x8E2A;&#x3002;&#x5982;&#x679C;&#x6808;&#x6307;&#x9488;&#x7684;&#x504F;&#x79FB;&#x8D85;&#x8FC7;&#x4E86;&#x8FD9;&#x4E2A;&#x6570;&#x91CF;&#xFF0C;Valgrind&#x5047;&#x5B9A;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x5207;&#x6362;&#x5230;&#x4E86;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6808;&#xFF0C;&#x5E76;&#x4E14;Memcheck&#x884C;&#x4E3A;&#x4E0E;&#x6808;&#x6307;</number></p>
<p>&#x9488;&#x7684;&#x504F;&#x79FB;&#x6CA1;&#x6709;&#x8D85;&#x51FA;&#x8FD9;&#x4E2A;&#x6570;&#x91CF;&#x5C06;&#x4F1A;&#x4E0D;&#x540C;&#x3002;&#x901A;&#x5E38;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x8FD0;&#x8F6C;&#x5F97;&#x5F88;&#x597D;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x5728;&#x6808;&#x4E0A;&#x7533;&#x8BF7;&#x4E86;&#x5927;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x5C06;&#x4F1A;&#x8868;&#x73B0;&#x5F97;&#x611A;&#x8822;&#xFF0C;&#x5E76;&#x4E14;Memcheck&#x5C06;&#x4F1A;&#x62A5;&#x544A;&#x5927;&#x91CF;&#x7684;&#x975E;&#x6CD5;&#x6808;&#x5185;&#x5B58;&#x8BBF;&#x95EE;&#x3002;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5141;&#x8BB8;&#x628A;&#x8FD9;&#x4E2A;&#x9600;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A;&#x5176;&#x5B83;&#x503C;&#x3002;&#x5E94;&#x8BE5;&#x53EA;&#x5728;Valgrind&#x7684;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;&#x4E2D;&#x663E;&#x793A;&#x9700;&#x8981;&#x8FD9;&#x4E48;&#x505A;&#x65F6;&#x624D;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x5E94;&#x8BE5;&#x6307;&#x5B9A;&#x7684;&#x65B0;&#x7684;&#x9600;&#x503C;&#x3002;&#x666E;&#x904D;&#x5730;&#xFF0C;&#x5728;&#x6808;&#x4E2D;&#x5206;&#x914D;&#x5927;&#x5757;&#x7684;&#x5185;&#x5B58;&#x662F;&#x4E00;&#x4E2A;&#x574F;&#x7684;&#x4E3B;&#x610F;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x5F88;&#x5BB9;&#x6613;&#x7528;&#x5149;&#x4F60;&#x7684;&#x6808;&#x7A7A;&#x95F4;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5728;&#x5185;&#x5B58;&#x53D7;&#x9650;&#x7684;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x652F;&#x6301;&#x5927;&#x91CF;&#x5C0F;&#x5806;&#x6808;&#x7684;&#x7EBF;&#x7A0B;&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x56E0;&#x4E3A;Memcheck&#x6267;&#x884C;&#x7684;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#xFF0C;&#x5BF9;&#x4E8E;&#x5806;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x6BD4;&#x5BF9;&#x6808;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x8981;&#x9AD8;&#x6548;&#x5F88;&#x591A;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x5E0C;&#x671B;&#x8003;&#x8651;&#x91CD;&#x5199;&#x4EE3;&#x7801;&#x5728;&#x5806;&#x4E0A;&#x5206;&#x914D;&#x5185;&#x5B58;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x6808;&#x4E0A;&#x5206;&#x914D;&#x3002;</p>
<h4 id="malloc&#x76F8;&#x5173;&#x7684;&#x9009;&#x9879;"><a name="malloc&#x76F8;&#x5173;&#x7684;&#x9009;&#x9879;" class="anchor-navigation-ex-anchor" href="#malloc&#x76F8;&#x5173;&#x7684;&#x9009;&#x9879;"><i class="fa fa-link" aria-hidden="true"></i></a>MALLOC()&#x76F8;&#x5173;&#x7684;&#x9009;&#x9879;:</h4>
<p>&#x5BF9;&#x4E8E;&#x4F7F;&#x7528;&#x81EA;&#x6709;&#x7248;&#x672C;&#x7684;malloc() (&#x4F8B;&#x5982;Memcheck&#x548C;massif)&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002;</p>
<p>--alignment=<number> [default: 8]
&#x9ED8;&#x8BA4;Valgrind&#x7684;malloc(),realloc(), &#x7B49;&#x7B49;&#xFF0C;&#x662F;8&#x5B57;&#x8282;&#x5BF9;&#x9F50;&#x5730;&#x5740;&#x7684;&#x3002;&#x8FD9;&#x662F;&#x5927;&#x90E8;&#x5206;&#x5904;&#x7406;&#x5668;&#x7684;&#x6807;&#x51C6;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x4E00;&#x4E9B;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#x5047;&#x5B9A;malloc()&#x7B49;&#x603B;&#x662F;&#x8FD4;&#x56DE;16&#x5B57;&#x8282;&#x6216;&#x66F4;&#x591A;&#x5BF9;&#x9F50;&#x7684;&#x5185;&#x5B58;&#x3002;&#x63D0;&#x4F9B;&#x7684;&#x6570;&#x503C;&#x5FC5;&#x987B;&#x5728;8&#x548C;4096&#x533A;&#x95F4;&#x4E4B;&#x5185;&#xFF0C;&#x5E76;&#x4E14;&#x5FC5;&#x987B;&#x662F;2&#x7684;&#x5E42;&#x6570;&#x3002;</number></p>
<h4 id="&#x975E;&#x901A;&#x7528;&#x9009;&#x9879;&#xFF1A;"><a name="&#x975E;&#x901A;&#x7528;&#x9009;&#x9879;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x975E;&#x901A;&#x7528;&#x9009;&#x9879;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x975E;&#x901A;&#x7528;&#x9009;&#x9879;&#xFF1A;</h4>
<p>&#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;&#x4EEC;&#x5F71;&#x54CD;Valgrind core&#x7684;&#x51E0;&#x4E2A;&#x7279;&#x6027;&#x3002;&#x5927;&#x90E8;&#x5206;&#x4EBA;&#x4E0D;&#x4F1A;&#x7528;&#x5230;&#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x3002;</p>
<p>--run-libc-freeres=<yes|no> [default: yes]
GNU C&#x5E93;(libc.so)&#xFF0C;&#x6240;&#x6709;&#x7A0B;&#x5E8F;&#x5171;&#x7528;&#x7684;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5206;&#x914D;&#x4E00;&#x90E8;&#x5206;&#x5185;&#x5B58;&#x81EA;&#x5DF2;&#x7528;&#x3002;&#x901A;&#x5E38;&#x5728;&#x7A0B;&#x5E8F;&#x9000;&#x51FA;&#x65F6;&#x91CA;&#x653E;&#x5185;&#x5B58;&#x5E76;&#x4E0D;&#x9EBB;&#x70E6; -- &#x8FD9;&#x91CC;&#x6CA1;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;Linux&#x5185;&#x6838;&#x5728;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x65F6;&#x4F1A;&#x56DE;&#x6536;&#x8FDB;&#x7A0B;&#x5168;&#x90E8;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x53EA;&#x662F;&#x4F1A;&#x9020;&#x6210;&#x901F;&#x5EA6;&#x6162;&#x3002;glibc&#x7684;&#x4F5C;&#x8005;&#x8BA4;&#x8BC6;&#x5230;&#x8FD9;&#x6837;&#x4F1A;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x5668;&#xFF0C;&#x50CF;Valgrind&#xFF0C;&#x5728;&#x9000;&#x51FA;&#x65F6;&#x68C0;&#x67E5;&#x5185;&#x5B58;&#x9519;&#x8BEF;&#x7684;&#x62A5;&#x544A;glibc&#x7684;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x95EE;&#x9898;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x4ED6;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;<strong>libc_freeres()&#x4F8B;&#x7A0B;&#x7279;&#x522B;&#x7528;&#x6765;&#x8BA9;glibc&#x91CA;&#x653E;&#x5206;&#x914D;&#x7684;&#x6240;&#x6709;&#x5185;&#x5B58;&#x3002;&#x56E0;&#x6B64;Memcheck&#x5728;&#x9000;&#x51FA;&#x65F6;&#x5C1D;&#x8BD5;&#x7740;&#x53BB;&#x8FD0;&#x884C;</strong>libc_freeres()&#x3002;&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x5728;glibc&#x7684;&#x4E00;&#x4E9B;&#x7248;&#x672C;&#x4E2D;&#xFF0C;<strong>libc_freeres&#x662F;&#x6709;bug&#x4F1A;&#x5BFC;&#x81F4;&#x6BB5;&#x9519;&#x8BEF;&#x7684;&#x3002;&#x8FD9;&#x5728;Red Hat 7.1&#x4E0A;&#x6709;&#x7279;&#x522B;&#x58F0;&#x660E;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x63D0;&#x4F9B;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6765;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x8FD0;&#x884C;</strong>libc_freeres&#x3002;&#x5982;&#x679C;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x770B;&#x8D77;&#x6765;&#x5728;Valgrind&#x4E0A;&#x8FD0;&#x884C;&#x5F97;&#x5F88;&#x597D;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x9000;&#x51FA;&#x65F6;&#x53D1;&#x751F;&#x6BB5;&#x9519;&#x8BEF;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x6307;&#x5B9A;--run-libc-freeres=no&#x6765;&#x4FEE;&#x6B63;&#xFF0C;&#x8FD9;&#x5C06;&#x53EF;&#x80FD;&#x9519;&#x8BEF;&#x7684;&#x62A5;&#x544A;libc.so&#x7684;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3002;</yes|no></p>
<p>--sim-hints=hint1,hint2,...
&#x4F20;&#x9012;&#x6742;&#x51D1;&#x7684;&#x63D0;&#x793A;&#x7ED9;Valgrind&#xFF0C;&#x8F7B;&#x5FAE;&#x7684;&#x4FEE;&#x6539;&#x6A21;&#x62DF;&#x884C;&#x4E3A;&#x7684;&#x975E;&#x6807;&#x51C6;&#x6216;&#x5371;&#x9669;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x80FD;&#x6709;&#x52A9;&#x4E8E;&#x6A21;&#x62DF;&#x5947;&#x602A;&#x7684;&#x7279;&#x6027;&#x3002;&#x9ED8;&#x8BA4;&#x6CA1;&#x6709;&#x63D0;&#x793A;&#x6253;&#x5F00;&#x3002;&#x5C0F;&#x5FC3;&#x4F7F;&#x7528;&#xFF01;&#x76EE;&#x524D;&#x5DF2;&#x77E5;&#x7684;&#x63D0;&#x793A;&#x6709;&#xFF1A;</p>
<p>l lax-ioctls: &#x5BF9;ioctl&#x7684;&#x5904;&#x7406;&#x975E;&#x5E38;&#x4E0D;&#x4E25;&#x683C;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x5047;&#x5B9A;&#x662F;&#x5927;&#x5C0F;&#x662F;&#x6B63;&#x786E;&#x7684;&#x3002;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x5199;&#x65F6;&#x7F13;&#x51B2;&#x533A;&#x5B8C;&#x5168;&#x7684;&#x521D;&#x59CB;&#x5316;&#x3002;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#xFF0C;&#x7528;&#x5927;&#x91CF;&#x7684;&#x5947;&#x602A;&#x7684;ioctl&#x547D;&#x4EE4;&#x6765;&#x4F7F;&#x7528;&#x4E00;&#x4E9B;&#x8BBE;&#x5907;&#x9A71;&#x52A8;&#x5C06;&#x4F1A;&#x975E;&#x5E38;&#x70E6;&#x4EBA;&#x3002;</p>
<p>l enable-inner:&#x6253;&#x5F00;&#x67D0;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x5F53;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x662F;Valgrind&#x81EA;&#x8EAB;&#x65F6;&#x3002;</p>
<p>--kernel-variant=variant1,variant2,...
&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x548C;ioctls&#x5728;&#x8FD9;&#x4E2A;&#x5E73;&#x53F0;&#x7684;&#x9ED8;&#x8BA4;&#x6838;&#x5FC3;&#x4E0A;&#x4EA7;&#x751F;&#x4E0D;&#x540C;&#x7684;&#x53D8;&#x91CF;&#x3002;&#x8FD9;&#x6709;&#x52A9;&#x4E8E;&#x8FD0;&#x884C;&#x5728;&#x6539;&#x8FDB;&#x8FC7;&#x7684;&#x5185;&#x6838;&#x6216;&#x8005;&#x652F;&#x6301;&#x975E;&#x6807;&#x51C6;&#x7684;ioctls&#x4E0A;&#x3002;&#x5C0F;&#x5FC3;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x7406;&#x89E3;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x505A;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#x90A3;&#x4F60;&#x51E0;&#x4E4E;&#x4E0D;&#x9700;&#x8981;&#x5B83;&#x3002;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x7684;&#x53D8;&#x91CF;&#x6709;&#xFF1A;</p>
<p>l bproc: &#x652F;&#x6301;X86&#x5E73;&#x53F0;&#x4E0A;&#x7684;sys_broc&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x8FD0;&#x884C;&#x5728;BProc&#xFF0C;&#x5B83;&#x662F;&#x6807;&#x51C6;Linux&#x7684;&#x4E00;&#x4E2A;&#x53D8;&#x79CD;&#xFF0C;&#x6709;&#x65F6;&#x7528;&#x6765;&#x6784;&#x5EFA;&#x96C6;&#x7FA4;&#x3002;</p>
<p>--show-emwarns=<yes|no> [default: no]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;Valgrind&#x5728;&#x4E00;&#x4E9B;&#x7279;&#x5B9A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5C06;&#x5BF9;CPU&#x4EFF;&#x771F;&#x4EA7;&#x751F;&#x8B66;&#x544A;&#x3002;&#x901A;&#x5E38;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x4E0D;&#x5F15;&#x4EBA;&#x6CE8;&#x610F;&#x7684;&#x3002;</yes|no></p>
<p>--smc-check=<none|stack|all> [default: stack]
&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x63A7;&#x5236;Valgrind&#x5BF9;&#x81EA;&#x6211;&#x4FEE;&#x6539;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x68C0;&#x6D4B;&#x3002;Valgrind&#x53EF;&#x4EE5;&#x4E0D;&#x505A;&#x68C0;&#x6D4B;&#xFF0C;&#x53EF;&#x4EE5;&#x68C0;&#x6D4B;&#x6808;&#x4E2D;&#x81EA;&#x6211;&#x4FEE;&#x6539;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6216;&#x8005;&#x4EFB;&#x610F;&#x5730;&#x65B9;&#x68C0;&#x6D4B;&#x81EA;&#x6211;&#x4FEE;&#x6539;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x6CE8;&#x610F;&#x9ED8;&#x8BA4;&#x9009;&#x9879;&#x662F;&#x6355;&#x6349;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#xFF0C;&#x5230;&#x76EE;&#x524D;&#x6211;&#x4EEC;&#x4E86;&#x89E3;&#x7684;&#x60C5;&#x51B5;&#x4E3A;&#x6B62;&#x3002;&#x4F7F;&#x7528;all&#x9009;&#x9879;&#x65F6;&#x4F1A;&#x6781;&#x5927;&#x7684;&#x964D;&#x4F4E;&#x901F;&#x5EA6;&#x3002;(&#x4F46;&#x662F;&#x7528;none&#x9009;&#x9879;&#x8FD0;&#x884C;&#x6781;&#x5C11;&#x5F71;&#x54CD;&#x901F;&#x5EA6;&#xFF0C;&#x56E0;&#x4E3A;&#x5BF9;&#x5927;&#x591A;&#x6570;&#x7A0B;&#x5E8F;&#xFF0C;&#x975E;&#x5E38;&#x5C11;&#x7684;&#x4EE3;&#x7801;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x6808;&#x4E2D;)</none|stack|all></p>
<h4 id="&#x8C03;&#x8BD5;valgrind&#x9009;&#x9879;&#xFF1A;"><a name="&#x8C03;&#x8BD5;valgrind&#x9009;&#x9879;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x8C03;&#x8BD5;valgrind&#x9009;&#x9879;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8C03;&#x8BD5;VALGRIND&#x9009;&#x9879;&#xFF1A;</h4>
<p>&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x9009;&#x9879;&#x662F;&#x7528;&#x6765;&#x8C03;&#x8BD5;Valgrind&#x81EA;&#x8EAB;&#x7684;&#x3002;&#x5728;&#x8FD0;&#x884C;&#x4E00;&#x822C;&#x7684;&#x4E1C;&#x897F;&#x65F6;&#x4E0D;&#x5E94;&#x8BE5;&#x9700;&#x8981;&#x7684;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5E0C;&#x671B;&#x770B;&#x5230;&#x9009;&#x9879;&#x5217;&#x8868;&#xFF0C;&#x4F7F;&#x7528;--help-debug&#x9009;&#x9879;&#x3002;</p>
<p>&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x9009;&#x9879;&#xFF1A;</p>
<p>--leak-check=<no|summary|yes|full> [default: summary]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x5F53;&#x5BA2;&#x6237;&#x7A0B;&#x5E8F;&#x7ED3;&#x675F;&#x65F6;&#x67E5;&#x627E;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3002;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x610F;&#x5473;&#x7740;&#x6709;&#x7528;malloc&#x5206;&#x914D;&#x5185;&#x5B58;&#x5757;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x7528;free&#x91CA;&#x653E;&#xFF0C;&#x800C;&#x4E14;&#x6CA1;&#x6709;&#x6307;&#x9488;&#x6307;&#x5411;&#x8FD9;&#x5757;&#x5185;&#x5B58;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x5185;&#x5B58;&#x5757;&#x6C38;&#x8FDC;&#x4E0D;&#x80FD;&#x88AB;&#x7A0B;&#x5E8F;&#x91CA;&#x653E;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x6307;&#x9488;&#x6307;&#x5411;&#x5B83;&#x4EEC;&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;summary&#xFF0C;Valgrind&#x4F1A;&#x62A5;&#x544A;&#x6709;&#x591A;&#x5C11;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x53D1;&#x751F;&#x4E86;&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;full&#x6216;yes&#xFF0C;Valgrind&#x7ED9;&#x51FA;&#x6BCF;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6CC4;&#x6F0F;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;</no|summary|yes|full></p>
<p>--show-reachable=<yes|no> [default: no]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5173;&#x95ED;&#x65F6;&#xFF0C;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x68C0;&#x6D4B;&#x5668;&#x53EA;&#x663E;&#x793A;&#x6CA1;&#x6709;&#x6307;&#x9488;&#x6307;&#x5411;&#x7684;&#x5185;&#x5B58;&#x5757;&#xFF0C;&#x6216;&#x8005;&#x53EA;&#x80FD;&#x627E;&#x5230;&#x6307;&#x5411;&#x5757;&#x4E2D;&#x95F4;&#x7684;&#x6307;&#x9488;&#x3002;&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x68C0;&#x6D4B;&#x5668;&#x8FD8;&#x62A5;&#x544A;&#x6709;&#x6307;&#x9488;&#x6307;&#x5411;&#x7684;&#x5185;&#x5B58;&#x5757;&#x3002;&#x8FD9;&#x4E9B;&#x5757;&#x662F;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x7684;&#x5730;&#x65B9;&#x3002;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#xFF0C;&#x81F3;&#x5C11;&#x5728;&#x539F;&#x5219;&#x4E0A;&#xFF0C;&#x5E94;&#x8BE5;&#x5728;&#x9000;&#x51FA;&#x524D;&#x91CA;&#x653E;&#x8FD9;&#x4E9B;&#x5185;&#x5B58;&#x5757;&#x3002;&#x8FD9;&#x4E9B;&#x6709;&#x6307;&#x9488;&#x6307;&#x5411;&#x7684;&#x5185;&#x5B58;&#x5757;&#x548C;&#x6CA1;&#x6709;&#x6307;&#x9488;&#x6307;&#x5411;&#x7684;&#x5185;&#x5B58;&#x5757;&#xFF0C;&#x6216;&#x8005;&#x53EA;&#x6709;&#x5185;&#x90E8;&#x6307;&#x9488;&#x6307;&#x5411;&#x7684;&#x5757;&#xFF0C;&#x90FD;&#x53EF;&#x80FD;&#x4EA7;&#x751F;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF0C;&#x56E0;&#x4E3A;&#x5B9E;&#x9645;&#x4E0A;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x6307;&#x5411;&#x5757;&#x8D77;&#x59CB;&#x7684;&#x6307;&#x9488;&#x53EF;&#x4EE5;&#x62FF;&#x6765;&#x91CA;&#x653E;&#xFF0C;&#x5373;&#x4F7F;&#x4F60;&#x60F3;&#x53BB;&#x91CA;&#x653E;&#x5B83;&#x3002;</yes|no></p>
<p>--leak-resolution=<low|med|high> [default: low]
&#x5728;&#x505A;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x68C0;&#x67E5;&#x65F6;&#xFF0C;&#x786E;&#x5B9A;memcheck&#x5C06;&#x600E;&#x4E48;&#x6837;&#x8003;&#x8651;&#x4E0D;&#x540C;&#x7684;&#x6808;&#x662F;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;low&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x524D;&#x4E24;&#x5C42;&#x6808;&#x5339;&#x914D;&#x5C31;&#x8BA4;&#x4E3A;&#x662F;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#xFF1B;&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;med&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x56DB;&#x5C42;&#x6808;&#x5339;&#x914D;&#xFF0C;&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;high&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x5C42;&#x6B21;&#x7684;&#x6808;&#x90FD;&#x5FC5;&#x987B;&#x5339;&#x914D;&#x3002;&#x5BF9;&#x4E8E;hardcore&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x68C0;&#x67E5;&#xFF0C;&#x4F60;&#x5F88;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4F7F;&#x7528;--leak-resolution=high&#x548C;--num-callers=40&#x6216;&#x8005;&#x66F4;&#x5927;&#x7684;&#x6570;&#x5B57;&#x3002;&#x6CE8;&#x610F;&#x8FD9;&#x5C06;&#x4EA7;&#x751F;&#x5DE8;&#x91CF;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x9ED8;&#x8BA4;&#x9009;&#x9879;&#x662F;&#x56DB;&#x4E2A;&#x8C03;&#x7528;&#x8005;&#x5339;&#x914D;&#x548C;&#x4F4E;&#x5206;&#x8FA8;&#x7387;&#x7684;&#x5339;&#x914D;&#x3002;&#x6CE8;&#x610F;--leak-resolution= &#x8BBE;&#x7F6E;&#x5E76;&#x4E0D;&#x5F71;&#x54CD;memcheck&#x67E5;&#x627E;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x7684;&#x80FD;&#x529B;&#x3002;&#x5B83;&#x53EA;&#x662F;&#x6539;&#x53D8;&#x4E86;&#x7ED3;&#x679C;&#x5982;&#x4F55;&#x8F93;&#x51FA;&#x3002;</low|med|high></p>
<p>--freelist-vol=<number> [default: 5000000]
&#x5F53;&#x5BA2;&#x6237;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;free(C&#x4E2D;)&#x6216;&#x8005;delete(C++)&#x91CA;&#x653E;&#x5185;&#x5B58;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x5185;&#x5B58;&#x5E76;&#x4E0D;&#x662F;&#x9A6C;&#x4E0A;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x518D;&#x5206;&#x914D;&#x7684;&#x3002;&#x8FD9;&#x4E9B;&#x5185;&#x5B58;&#x5C06;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x4E0D;&#x53EF;&#x8BBF;&#x95EE;&#x7684;&#xFF0C;&#x5E76;&#x88AB;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x5DF2;&#x91CA;&#x653E;&#x5185;&#x5B58;&#x7684;&#x961F;&#x5217;&#x4E2D;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x76EE;&#x7684;&#x662F;&#xFF0C;&#x4F7F;&#x91CA;&#x653E;&#x7684;&#x5185;&#x5B58;&#x518D;&#x6B21;&#x88AB;&#x5229;&#x7528;&#x7684;&#x70B9;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x665A;&#x3002;&#x8FD9;&#x6709;&#x5229;&#x4E8E;memcheck&#x5728;&#x5185;&#x5B58;&#x5757;&#x91CA;&#x653E;&#x540E;&#x8FD9;&#x6BB5;&#x91CD;&#x8981;&#x7684;&#x65F6;&#x95F4;&#x68C0;&#x67E5;&#x5BF9;&#x5757;&#x4E0D;&#x5408;&#x6CD5;&#x7684;&#x8BBF;&#x95EE;&#x3002;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6307;&#x5B9A;&#x4E86;&#x961F;&#x5217;&#x6240;&#x80FD;&#x5BB9;&#x7EB3;&#x7684;&#x5185;&#x5B58;&#x603B;&#x5BB9;&#x91CF;&#xFF0C;&#x4EE5;&#x5B57;&#x8282;&#x4E3A;&#x5355;&#x4F4D;&#x3002;&#x9ED8;&#x8BA4;&#x7684;&#x503C;&#x662F;5000000&#x5B57;&#x8282;&#x3002;&#x589E;&#x5927;&#x8FD9;&#x4E2A;&#x6570;&#x76EE;&#x4F1A;&#x589E;&#x52A0;memcheck&#x4F7F;&#x7528;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x4F46;&#x540C;&#x65F6;&#x4E5F;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x5DF2;&#x91CA;&#x653E;&#x5185;&#x5B58;&#x7684;&#x975E;&#x6CD5;&#x4F7F;&#x7528;&#x7684;&#x68C0;&#x6D4B;&#x6982;&#x7387;&#x3002;</number></p>
<p>--workaround-gcc296-bugs=<yes|no> [default: no]
&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x5047;&#x5B9A;&#x8BFB;&#x5199;&#x6808;&#x6307;&#x9488;&#x4EE5;&#x4E0B;&#x7684;&#x4E00;&#x5C0F;&#x6BB5;&#x8DDD;&#x79BB;&#x662F;gcc 2.96&#x7684;bug&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x62A5;&#x544A;&#x4E3A;&#x9519;&#x8BEF;&#x3002;&#x8DDD;&#x79BB;&#x9ED8;&#x8BA4;&#x4E3A;256&#x5B57;&#x8282;&#x3002;&#x6CE8;&#x610F;gcc 2.96&#x662F;&#x4E00;&#x4E9B;&#x6BD4;&#x8F83;&#x8001;&#x7684;Linux&#x53D1;&#x884C;&#x7248;(RedHat 7.X)&#x7684;&#x9ED8;&#x8BA4;&#x7F16;&#x8BD1;&#x5668;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x5FC5;&#x8981;&#x8BF7;&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x4F1A;&#x4F7F;&#x4E00;&#x4E9B;&#x771F;&#x6B63;&#x7684;&#x9519;&#x8BEF;&#x6E9C;&#x6389;&#x3002;&#x4E00;&#x4E2A;&#x66F4;&#x597D;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&#x8F83;&#x65B0;&#x7684;&#xFF0C;&#x4FEE;&#x6B63;&#x4E86;&#x8FD9;&#x4E2A;bug&#x7684;gcc/g++&#x7248;&#x672C;&#x3002;</yes|no></p>
<p>--partial-loads-ok=<yes|no> [default: no]
&#x63A7;&#x5236;memcheck&#x5982;&#x4F55;&#x5904;&#x7406;&#x4ECE;&#x5730;&#x5740;&#x8BFB;&#x53D6;&#x65F6;&#x5B57;&#x957F;&#x5EA6;&#xFF0C;&#x5B57;&#x5BF9;&#x9F50;&#xFF0C;&#x56E0;&#x6B64;&#x54EA;&#x4E9B;&#x5B57;&#x8282;&#x662F;&#x53EF;&#x4EE5;&#x5BFB;&#x5740;&#x7684;&#xFF0C;&#x54EA;&#x4E9B;&#x662F;&#x4E0D;&#x53EF;&#x4EE5;&#x5BFB;&#x5740;&#x7684;&#x3002;&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;yes&#x662F;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BFB;&#x53D6;&#x5E76;&#x4E0D;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x5BFB;&#x5740;&#x9519;&#x8BEF;&#x3002;&#x800C;&#x662F;&#x4ECE;&#x975E;&#x6CD5;&#x5730;&#x5740;&#x8BFB;&#x53D6;&#x7684;V&#x5B57;&#x8282;&#x663E;&#x793A;&#x4E3A;&#x672A;&#x5B9A;&#x4E49;&#xFF0C;&#x8BBF;&#x95EE;&#x5408;&#x6CD5;&#x5730;&#x5740;&#x4ECD;&#x7136;&#x662F;&#x50CF;&#x5E73;&#x5E38;&#x4E00;&#x6837;&#x6620;&#x5C04;&#x5230;&#x5185;&#x5B58;&#x3002;&#x8BBE;&#x7F6E;&#x4E3A;no&#x65F6;&#xFF0C;&#x4ECE;&#x90E8;&#x5206;&#x9519;&#x8BEF;&#x7684;&#x5730;&#x5740;&#x8BFB;&#x53D6;&#x4E0E;&#x4ECE;&#x5B8C;&#x5168;&#x9519;&#x8BEF;&#x7684;&#x5730;&#x5740;&#x8BFB;&#x53D6;&#x540C;&#x6837;&#x5904;&#x7406;&#xFF1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x975E;&#x6CD5;&#x5730;&#x5740;&#x9519;&#x8BEF;&#xFF0C;&#x7ED3;&#x679C;&#x7684;V&#x5B57;&#x8282;&#x663E;&#x793A;&#x4E3A;&#x5408;&#x6CD5;&#x6570;&#x636E;&#x3002;&#x6CE8;&#x610F;&#x8FD9;&#x79CD;&#x4EE3;&#x7801;&#x884C;&#x4E3A;&#x662F;&#x8FDD;&#x80CC;ISO C/C++&#x6807;&#x51C6;&#xFF0C;&#x5E94;&#x8BE5;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x6709;&#x95EE;&#x9898;&#x7684;&#x3002;&#x5982;&#x679C;&#x53EF;&#x80FD;&#xFF0C;&#x8FD9;&#x79CD;&#x4EE3;&#x7801;&#x5E94;&#x8BE5;&#x4FEE;&#x6B63;&#x3002;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5E94;&#x8BE5;&#x53EA;&#x662F;&#x505A;&#x4E3A;&#x4E00;&#x4E2A;&#x6700;&#x540E;&#x8003;&#x8651;&#x7684;&#x65B9;&#x6CD5;&#x3002;</yes|no></p>
<p>--undef-value-errors=<yes|no> [default: yes]
&#x63A7;&#x5236;memcheck&#x662F;&#x5426;&#x68C0;&#x67E5;&#x672A;&#x5B9A;&#x4E49;&#x503C;&#x7684;&#x5371;&#x9669;&#x4F7F;&#x7528;&#x3002;&#x5F53;&#x8BBE;&#x4E3A;yes&#x65F6;&#xFF0C;Memcheck&#x7684;&#x884C;&#x4E3A;&#x50CF;Addrcheck, &#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x5185;&#x5B58;&#x68C0;&#x67E5;&#x5DE5;&#x5177;&#xFF0C;&#x662F;Valgrind&#x7684;&#x4E00;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x5B83;&#x5E76;&#x4E0D;&#x68C0;&#x67E5;&#x672A;&#x5B9A;&#x4E49;&#x503C;&#x7684;&#x9519;&#x8BEF;&#x3002;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x5E0C;&#x671B;&#x770B;&#x5230;&#x672A;&#x5B9A;&#x4E49;&#x503C;&#x9519;&#x8BEF;&#x3002;</yes|no></p>
<h4 id="cachegrind&#x9009;&#x9879;&#xFF1A;"><a name="cachegrind&#x9009;&#x9879;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#cachegrind&#x9009;&#x9879;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>CACHEGRIND&#x9009;&#x9879;&#xFF1A;</h4>
<p>&#x624B;&#x52A8;&#x6307;&#x5B9A;I1/D1/L2&#x7F13;&#x51B2;&#x914D;&#x7F6E;&#xFF0C;&#x5927;&#x5C0F;&#x662F;&#x7528;&#x5B57;&#x8282;&#x8868;&#x793A;&#x7684;&#x3002;&#x8FD9;&#x4E09;&#x4E2A;&#x5FC5;&#x987B;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00;&#xFF0C;&#x4E2D;&#x95F4;&#x6CA1;&#x6709;&#x7A7A;&#x683C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A; valgrind --tool=cachegrind --I1=65535,2,64&#x4F60;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#xFF0C;&#x4E24;&#x4E2A;&#x6216;&#x4E09;&#x4E2A;I1/D1/L2&#x7F13;&#x51B2;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x624B;&#x52A8;&#x6307;&#x5B9A;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EA7;&#x522B;&#x4F7F;&#x7528;&#x666E;&#x901A;&#x65B9;&#x5F0F;(&#x901A;&#x8FC7;CPUID&#x6307;&#x4EE4;&#x5F97;&#x5230;&#x7F13;&#x51B2;&#x914D;&#x7F6E;&#xFF0C;&#x5982;&#x679C;&#x5931;&#x8D25;&#xFF0C;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;)&#x5F97;&#x5230;&#x7684;&#x914D;&#x7F6E;&#x3002;</p>
<p>--I1=<size>,<associativity>,<line size=""></line>
&#x6307;&#x5B9A;&#x7B2C;&#x4E00;&#x7EA7;&#x6307;&#x4EE4;&#x7F13;&#x51B2;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5173;&#x8054;&#x5EA6;&#x548C;&#x884C;&#x5927;&#x5C0F;&#x3002;</associativity></size></p>
<p>--D1=<size>,<associativity>,<line size=""></line>
&#x6307;&#x5B9A;&#x7B2C;&#x4E00;&#x7EA7;&#x6570;&#x636E;&#x7F13;&#x51B2;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5173;&#x8054;&#x5EA6;&#x548C;&#x884C;&#x5927;&#x5C0F;&#x3002;</associativity></size></p>
<p>--L2=<size>,<associativity>,<line size=""></line>
&#x6307;&#x5B9A;&#x7B2C;&#x4E8C;&#x7EA7;&#x7F13;&#x51B2;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5173;&#x8054;&#x5EA6;&#x548C;&#x884C;&#x5927;&#x5C0F;&#x3002;</associativity></size></p>
<p>CALLGRIND&#x9009;&#x9879;&#xFF1A;
--heap=<yes|no> [default: yes]</yes|no></p>
<p>&#x5F53;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x8BE6;&#x7EC6;&#x7684;&#x8FFD;&#x8E2A;&#x5806;&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x3002;&#x5173;&#x95ED;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x65F6;&#xFF0C;massif.pid.txt&#x6216;massif.pid.html&#x5C06;&#x4F1A;&#x975E;&#x5E38;&#x7684;&#x7B80;&#x77ED;&#x3002;</p>
<p>--heap-admin=<number> [default: 8]
&#x6BCF;&#x4E2A;&#x5757;&#x4F7F;&#x7528;&#x7684;&#x7BA1;&#x7406;&#x5B57;&#x8282;&#x6570;&#x3002;&#x8FD9;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5E73;&#x5747;&#x7684;&#x4F30;&#x8BA1;&#x503C;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x53EF;&#x80FD;&#x53D8;&#x5316;&#x3002;glibc&#x4F7F;&#x7528;&#x7684;&#x5206;&#x914D;&#x5668;&#x6BCF;&#x5757;&#x9700;&#x8981;4~15&#x5B57;&#x8282;&#xFF0C;&#x4F9D;&#x8D56;&#x4E8E;&#x5404;&#x65B9;&#x9762;&#x7684;&#x56E0;&#x7D20;&#x3002;&#x7BA1;&#x7406;&#x5DF2;&#x7ECF;&#x91CA;&#x653E;&#x7684;&#x5757;&#x4E5F;&#x9700;&#x8981;&#x7A7A;&#x95F4;&#xFF0C;&#x5C3D;&#x7BA1;massif&#x4E0D;&#x8BA1;&#x7B97;&#x8FD9;&#x4E9B;&#x3002;</number></p>
<p>--stacks=<yes|no> [default: yes]
&#x5F53;&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x5728;&#x5256;&#x6790;&#x4FE1;&#x606F;&#x4E2D;&#x5305;&#x542B;&#x6808;&#x4FE1;&#x606F;&#x3002;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x4E2A;&#x6808;&#x3002;</yes|no></p>
<p>--depth=<number> [default: 3]
&#x8BE6;&#x7EC6;&#x7684;&#x5806;&#x4FE1;&#x606F;&#x4E2D;&#x8C03;&#x7528;&#x8FC7;&#x7A0B;&#x7684;&#x6DF1;&#x5EA6;&#x3002;&#x589E;&#x52A0;&#x8FD9;&#x4E2A;&#x503C;&#x53EF;&#x4EE5;&#x7ED9;&#x51FA;&#x66F4;&#x591A;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x662F;massif&#x4F1A;&#x66F4;&#x4F7F;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5F97;&#x6162;&#xFF0C;&#x4F7F;&#x7528;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x5E76;&#x4E14;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5927;&#x7684;massif.pid.txt&#x6216;&#x8005;massif.pid.hp&#x6587;&#x4EF6;&#x3002;</number></p>
<p>--alloc-fn=<name>
&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5206;&#x914D;&#x5185;&#x5B58;&#x7684;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x5BF9;&#x4E8E;&#x4F7F;&#x7528;malloc()&#x7684;&#x5305;&#x88C5;&#x51FD;&#x6570;&#x662F;&#x6709;&#x7528;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x5B83;&#x6765;&#x586B;&#x5145;&#x539F;&#x6765;&#x65E0;&#x6548;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;&#x3002;(&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x4F1A;&#x7ED9;&#x51FA;&#x65E0;&#x7528;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x5728;&#x56FE;&#x4E2D;&#x7ED9;&#x51FA;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x533A;&#x57DF;)&#x3002;&#x6307;&#x5B9A;&#x7684;&#x51FD;&#x6570;&#x5728;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x88AB;&#x5FFD;&#x7565;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x50CF;&#x5BF9;malloc()&#x4E00;&#x6837;&#x5904;&#x7406;&#x3002;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x91CD;&#x590D;&#x591A;&#x6B21;&#xFF0C;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x51FD;&#x6570;&#x3002;</name></p>
<p>--format=<text|html> [default: text]
&#x4EA7;&#x751F;text&#x6216;&#x8005;HTML&#x683C;&#x5F0F;&#x7684;&#x8BE6;&#x7EC6;&#x5806;&#x4FE1;&#x606F;&#xFF0C;&#x6587;&#x4EF6;&#x7684;&#x540E;&#x7F00;&#x540D;&#x4F7F;&#x7528;.txt&#x6216;&#x8005;.html&#x3002;</text|html></p>
<h4 id="helgrind&#x9009;&#x9879;&#xFF1A;"><a name="helgrind&#x9009;&#x9879;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#helgrind&#x9009;&#x9879;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>HELGRIND&#x9009;&#x9879;&#xFF1A;</h4>
<p>--private-stacks=<yes|no> [default: no]
&#x5047;&#x5B9A;&#x7EBF;&#x7A0B;&#x6808;&#x662F;&#x79C1;&#x6709;&#x7684;&#x3002;</yes|no></p>
<p>--show-last-access=<yes|some|no> [default: no]
&#x663E;&#x793A;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x5B57;&#x8BBF;&#x95EE;&#x51FA;&#x9519;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</yes|some|no></p>
<h4 id="lackey&#x9009;&#x9879;&#xFF1A;"><a name="lackey&#x9009;&#x9879;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#lackey&#x9009;&#x9879;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>LACKEY&#x9009;&#x9879;&#xFF1A;</h4>
<p>--fnname=<name> [default: _dl_runtime_resolve()]
&#x5BF9;<name>&#x51FD;&#x6570;&#x8BA1;&#x6570;&#x3002;</name></name></p>
<p>--detailed-counts=<no|yes> [default: no]
&#x5BF9;&#x8BFB;&#x53D6;&#xFF0C;&#x5B58;&#x50A8;&#x548C;alu&#x64CD;&#x4F5C;&#x8BA1;&#x6570;&#x3002;</no|yes></p>
<h3 id="reference"><a name="reference" class="anchor-navigation-ex-anchor" href="#reference"><i class="fa fa-link" aria-hidden="true"></i></a>reference</h3>
<p><a href="https://www.valgrind.org/docs/" target="_blank">Valgrind Documentation</a></p>
<p><a href="https://www.cnblogs.com/wangkangluo1/archive/2011/07/20/2111273.html" target="_blank">valgrind &#x8BE6;&#x7EC6;&#x8BF4;&#x660E;</a></p>
<p><a href="http://senlinzhan.github.io/2017/12/31/valgrind/" target="_blank">&#x4F7F;&#x7528; Valgrind &#x68C0;&#x6D4B; C++ &#x5185;&#x5B58;&#x6CC4;&#x6F0F;</a></p>
<p><a href="https://blog.csdn.net/caohao2008/article/details/5682291" target="_blank">&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x68C0;&#x67E5;&#x5DE5;&#x5177;valgrind&#x4F7F;&#x7528;&#x65B9;&#x6CD5;</a></p>
<p><a href="https://www.cnblogs.com/jiu0821/p/6412669.html" target="_blank">valgrind&#x8BE6;&#x89E3;-&#x53C2;&#x6570;&#x8BF4;&#x660E;</a></p>
<p><a href="https://www.cnblogs.com/ccpang/p/11306715.html" target="_blank">C++&#x4E4B;&#x63A7;&#x5236;&#x5185;&#x5B58;&#x5206;&#x914D;</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="json.html" class="navigation navigation-prev " aria-label="Previous page: json">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../linux-system/" class="navigation navigation-next " aria-label="Next page: linux系统编程">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"valgrind内存检测","level":"1.4.5","depth":2,"next":{"title":"linux系统编程","level":"1.5","depth":1,"path":"linux-system/README.md","ref":"linux-system/README.md","articles":[{"title":"进程","level":"1.5.1","depth":2,"path":"linux-system/01-process.md","ref":"linux-system/01-process.md","articles":[]},{"title":"进程间通信","level":"1.5.2","depth":2,"path":"linux-system/02-Inter-Process-Communication.md","ref":"linux-system/02-Inter-Process-Communication.md","articles":[]},{"title":"信号","level":"1.5.3","depth":2,"path":"linux-system/04-signal.md","ref":"linux-system/04-signal.md","articles":[]},{"title":"守护进程","level":"1.5.4","depth":2,"path":"linux-system/05-daemon.md","ref":"linux-system/05-daemon.md","articles":[]},{"title":"线程","level":"1.5.5","depth":2,"path":"linux-system/06-thread.md","ref":"linux-system/06-thread.md","articles":[]},{"title":"线程同步","level":"1.5.6","depth":2,"path":"linux-system/07-thread-synchronization.md","ref":"linux-system/07-thread-synchronization.md","articles":[]}]},"previous":{"title":"json","level":"1.4.4","depth":2,"path":"linux-tool/json.md","ref":"linux-tool/json.md","articles":[]},"dir":"ltr"},"config":{"plugins":["todo","back-to-top-button","chapter-fold","splitter","github","anchor-navigation-ex","simple-page-toc","search-pro","-lunr","-search","lightbox"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"chapter-fold":{},"github":{"url":"https://github.com/robotchaoX/gitbook"},"simple-page-toc":{"maxDepth":3,"skipFirstH1":true},"todo":{},"splitter":{},"search-pro":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":false,"showLevel":false},"lightbox":{"jquery":true,"sameUuid":false},"back-to-top-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"robotchaoX","language":"zh-hans","links":{"sidebar":{"GitHub":"https://github.com/robotchaoX"}},"gitbook":"*","description":"gitbook description"},"file":{"path":"linux-tool/valgrind内存检测.md","mtime":"2020-09-01T08:08:47.040Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-09-23T02:51:11.113Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lightbox/js/lightbox.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

